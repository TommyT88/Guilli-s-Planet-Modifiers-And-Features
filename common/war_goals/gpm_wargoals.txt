# FROM = The targeted country
# THIS = The acting country

## BASE RELIC WAR GOALS ##

# r_dragon_trophy
wg_gpm_r_dragon_trophy = {
	casus_belli = cb_gpm_r_dragon_trophy

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}
	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_dragon_trophy } }
			steal_relic = {
				target = FROM
				relic = r_dragon_trophy
			}
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_dragon_trophy >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = {
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 0.5
		}
	}
}

# r_khans_throne
wg_gpm_r_khans_throne = {
	casus_belli = cb_gpm_r_khans_throne

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_khans_throne } }
			steal_relic = {
				target = FROM
				relic = r_khans_throne
			}
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_khans_throne >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}

# r_worm_scales
wg_gpm_r_worm_scales = {
	casus_belli = cb_gpm_r_worm_scales

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_worm_scales } }
			steal_relic = {
				target = FROM
				relic = r_worm_scales
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_worm_scales >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 2
		}
	}
}

# r_rubricator
wg_gpm_r_rubricator = {
	casus_belli = cb_gpm_r_rubricator

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_rubricator } }
			steal_relic = {
				target = FROM
				relic = r_rubricator
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_rubricator >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}

# r_galaxy
wg_gpm_r_galaxy = {
	casus_belli = cb_gpm_r_galaxy

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_galaxy } }
			steal_relic = {
				target = FROM
				relic = r_galaxy
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_galaxy >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
	}
}

# r_omnicodex
wg_gpm_r_omnicodex = {
	casus_belli = cb_gpm_r_omnicodex

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_omnicodex } }
			steal_relic = {
				target = FROM
				relic = r_omnicodex
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_omnicodex >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 2
		}
	}
}

# r_surveyor
wg_gpm_r_surveyor = {
	casus_belli = cb_gpm_r_surveyor

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_surveyor } }
			steal_relic = {
				target = FROM
				relic = r_surveyor
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_surveyor >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}

	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_civic = civic_machine_servitor
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}

# r_ancient_sword
wg_gpm_r_ancient_sword = {
	casus_belli = cb_gpm_r_ancient_sword

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_ancient_sword } }
			steal_relic = {
				target = FROM
				relic = r_ancient_sword
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_ancient_sword >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}

# r_severed_head
wg_gpm_r_severed_head = {
	casus_belli = cb_gpm_r_severed_head

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_severed_head } }
			steal_relic = {
				target = FROM
				relic = r_severed_head
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_severed_head >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 0.5
		}
	}
}

# r_prethoryn_queen
wg_gpm_r_prethoryn_queen = {
	casus_belli = cb_gpm_r_prethoryn_queen

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_prethoryn_queen } }
			steal_relic = {
				target = FROM
				relic = r_prethoryn_queen
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_prethoryn_queen >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_hive_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			has_civic = civic_hive_devouring_swarm
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 2
		}
	}
}

# r_unbidden_warlock
wg_gpm_r_unbidden_warlock = {
	casus_belli = cb_gpm_r_unbidden_warlock

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_unbidden_warlock } }
			steal_relic = {
				target = FROM
				relic = r_unbidden_warlock
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_unbidden_warlock >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 0.5
		}
	}
}

# r_contingency_core
wg_gpm_r_contingency_core = {
	casus_belli = cb_gpm_r_contingency_core

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_contingency_core } }
			steal_relic = {
				target = FROM
				relic = r_contingency_core
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_contingency_core >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
	}
}

# r_zro_crystal
wg_gpm_r_zro_crystal = {
	casus_belli = cb_gpm_r_zro_crystal

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_zro_crystal } }
			steal_relic = {
				target = FROM
				relic = r_zro_crystal
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_zro_crystal >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
	}
}

# r_the_last_baol
wg_gpm_r_the_last_baol = {
	casus_belli = cb_gpm_r_the_last_baol

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_the_last_baol } }
			steal_relic = {
				target = FROM
				relic = r_the_last_baol
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_the_last_baol >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_civic = civic_machine_servitor
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 2
		}
	}
}

# r_the_defragmentor
wg_gpm_r_the_defragmentor = {
	casus_belli = cb_gpm_r_the_defragmentor

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_the_defragmentor } }
			steal_relic = {
				target = FROM
				relic = r_the_defragmentor
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_the_defragmentor >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}

	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}

# r_reality_perforator
wg_gpm_r_reality_perforator = {
	casus_belli = cb_gpm_r_reality_perforator

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_reality_perforator } }
			steal_relic = {
				target = FROM
				relic = r_reality_perforator
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_reality_perforator >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			is_hive_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
	}
}

# r_pox_sample
wg_gpm_r_pox_sample = {
	casus_belli = cb_gpm_r_pox_sample

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_pox_sample } }
			steal_relic = {
				target = FROM
				relic = r_pox_sample
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_pox_sample >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 0.5
		}
	}
}

# r_cryo_core
wg_gpm_r_cryo_core = {
	casus_belli = cb_gpm_r_cryo_core

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_cryo_core } }
			steal_relic = {
				target = FROM
				relic = r_cryo_core
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_cryo_core >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
	}
}

# r_war_forge
wg_gpm_r_war_forge = {
	casus_belli = cb_gpm_r_war_forge

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = r_war_forge } }
			steal_relic = {
				target = FROM
				relic = r_war_forge
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< r_war_forge >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
		modifier = {
			has_civic = civic_hive_devouring_swarm
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}



## GPM RELIC WAR GOALS ##

# gpm_r_time_displacer
wg_gpm_r_time_displacer = {
	casus_belli = cb_gpm_r_time_displacer

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_time_displacer } }
			steal_relic = {
				target = FROM
				relic = gpm_r_time_displacer
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_time_displacer >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}


	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
	}
}
# gpm_r_alien_eggs
wg_gpm_r_alien_eggs = {
	casus_belli = cb_gpm_r_alien_eggs

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_alien_eggs } }
			steal_relic = {
				target = FROM
				relic = gpm_r_alien_eggs
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_alien_eggs >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_civic = civic_hive_devouring_swarm
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
	}
}
# gpm_r_machine_world_core
wg_gpm_r_machine_world_core = {
	casus_belli = cb_gpm_r_machine_world_core

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_machine_world_core } }
			steal_relic = {
				target = FROM
				relic = gpm_r_machine_world_core
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_machine_world_core >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
	}
}

# gpm_r_encyclopedia_galactica
wg_gpm_r_encyclopedia_galactica = {
	casus_belli = cb_gpm_r_encyclopedia_galactica

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_encyclopedia_galactica } }
			steal_relic = {
				target = FROM
				relic = gpm_r_encyclopedia_galactica
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_encyclopedia_galactica >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
	}
}
# gpm_r_zero_energy_generator
wg_gpm_r_zero_energy_generator = {
	casus_belli = cb_gpm_r_zero_energy_generator

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_zero_energy_generator } }
			steal_relic = {
				target = FROM
				relic = gpm_r_zero_energy_generator
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_zero_energy_generator >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_quantum_sphere
wg_gpm_r_quantum_sphere = {
	casus_belli = cb_gpm_r_quantum_sphere

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_quantum_sphere } }
			steal_relic = {
				target = FROM
				relic = gpm_r_quantum_sphere
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_quantum_sphere >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}
# gpm_r_ai_architect
wg_gpm_r_ai_architect = {
	casus_belli = cb_gpm_r_ai_architect

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_ai_architect } }
			steal_relic = {
				target = FROM
				relic = gpm_r_ai_architect
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_ai_architect >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
	}
}
# gpm_r_encrypted_sct
wg_gpm_r_encrypted_sct = {
	casus_belli = cb_gpm_r_encrypted_sct

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_encrypted_sct } }
			steal_relic = {
				target = FROM
				relic = gpm_r_encrypted_sct
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_encrypted_sct >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
	}
}
# gpm_r_experimental_weapon
wg_gpm_r_experimental_weapon = {
	casus_belli = cb_gpm_r_experimental_weapon

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_experimental_weapon } }
			steal_relic = {
				target = FROM
				relic = gpm_r_experimental_weapon
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_experimental_weapon >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
		modifier = {
			has_civic = civic_hive_devouring_swarm
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}
# gpm_r_fallout_emergency_replicator
wg_gpm_r_fallout_emergency_replicator = {
	casus_belli = cb_gpm_r_fallout_emergency_replicator

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_fallout_emergency_replicator } }
			steal_relic = {
				target = FROM
				relic = gpm_r_fallout_emergency_replicator
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_fallout_emergency_replicator >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			has_civic = civic_machine_servitor
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_power_core
wg_gpm_r_power_core = {
	casus_belli = cb_gpm_r_power_core

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_power_core } }
			steal_relic = {
				target = FROM
				relic = gpm_r_power_core
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_power_core >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			OR = {
				has_civic = civic_machine_terminator
				has_civic = civic_machine_assimilator
				has_civic = civic_fanatic_purifiers
			}
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_mysterious_shield_generator
wg_gpm_r_mysterious_shield_generator = {
	casus_belli = cb_gpm_r_mysterious_shield_generator

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_mysterious_shield_generator } }
			steal_relic = {
				target = FROM
				relic = gpm_r_mysterious_shield_generator
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_mysterious_shield_generator >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_civic = civic_machine_servitor
			factor = 2
		}
	}
}
# gpm_r_gravity_engine
wg_gpm_r_gravity_engine = {
	casus_belli = cb_gpm_r_gravity_engine

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_gravity_engine } }
			steal_relic = {
				target = FROM
				relic = gpm_r_gravity_engine
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_gravity_engine >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 0.5
		}
	}
}
# gpm_r_codex_administratum
wg_gpm_r_codex_administratum = {
	casus_belli = cb_gpm_r_codex_administratum

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_codex_administratum } }
			steal_relic = {
				target = FROM
				relic = gpm_r_codex_administratum
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_codex_administratum >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.1
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 1.25
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
	}
}
# gpm_r_enigmatic_advisor
wg_gpm_r_enigmatic_advisor = {
	casus_belli = cb_gpm_r_enigmatic_advisor

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_enigmatic_advisor } }
			steal_relic = {
				target = FROM
				relic = gpm_r_enigmatic_advisor
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_enigmatic_advisor >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 2
		}
	}
}
# gpm_r_positronic_microchip
wg_gpm_r_positronic_microchip = {
	casus_belli = cb_gpm_r_positronic_microchip

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_positronic_microchip } }
			steal_relic = {
				target = FROM
				relic = gpm_r_positronic_microchip
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_positronic_microchip >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
	}
}
# gpm_r_venerable_dreadnaught
wg_gpm_r_venerable_dreadnaught = {
	casus_belli = cb_gpm_r_venerable_dreadnaught

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_venerable_dreadnaught } }
			steal_relic = {
				target = FROM
				relic = gpm_r_venerable_dreadnaught
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_venerable_dreadnaught >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
	}
}
# gpm_r_sentinel_queen
wg_gpm_r_sentinel_queen = {
	casus_belli = cb_gpm_r_sentinel_queen

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_sentinel_queen } }
			steal_relic = {
				target = FROM
				relic = gpm_r_sentinel_queen
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_sentinel_queen >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_civic = civic_machine_servitor
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}
# gpm_r_earthquake_engine
wg_gpm_r_earthquake_engine = {
	casus_belli = cb_gpm_r_earthquake_engine

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_earthquake_engine } }
			steal_relic = {
				target = FROM
				relic = gpm_r_earthquake_engine
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_earthquake_engine >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_egalitarian
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_egalitarian
			factor = 0.5
		}
	}
}
# gpm_r_manufactorium_ship
wg_gpm_r_manufactorium_ship = {
	casus_belli = cb_gpm_r_manufactorium_ship

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_manufactorium_ship } }
			steal_relic = {
				target = FROM
				relic = gpm_r_manufactorium_ship
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_manufactorium_ship >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_datacube
wg_gpm_r_datacube = {
	casus_belli = cb_gpm_r_datacube

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_datacube } }
			steal_relic = {
				target = FROM
				relic = gpm_r_datacube
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_datacube >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_self_assembly_hub
wg_gpm_r_self_assembly_hub = {
	casus_belli = cb_gpm_r_self_assembly_hub

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_self_assembly_hub } }
			steal_relic = {
				target = FROM
				relic = gpm_r_self_assembly_hub
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_self_assembly_hub >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
	}
}
# gpm_r_banner_of_the_fallen
wg_gpm_r_banner_of_the_fallen = {
	casus_belli = cb_gpm_r_banner_of_the_fallen

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_banner_of_the_fallen } }
			steal_relic = {
				target = FROM
				relic = gpm_r_banner_of_the_fallen
			}
			hidden_effect = { from = { remove_country_flag = gpm_r_banner_of_the_fallen_loot_flag } }
			hidden_effect = { 
				country_event = { id = gpm_relics.20 } # adds trait to admirals
				set_country_flag = gpm_r_banner_of_the_fallen_loot_flag
			}
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_banner_of_the_fallen >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
	}
}
# gpm_r_cloaking_device
wg_gpm_r_cloaking_device = {
	casus_belli = cb_gpm_r_cloaking_device

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_cloaking_device } }
			steal_relic = {
				target = FROM
				relic = gpm_r_cloaking_device
			}
			
			hidden_effect = { from = { remove_country_flag = gpm_r_cloaking_device_loot_flag } }
			hidden_effect = { 
				country_event = { id = gpm_relics.1 } # adds trait to admirals
				set_country_flag = gpm_r_cloaking_device_loot_flag
			}
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_cloaking_device >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_militarist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_militarist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 0.5
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 0.5
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 2
		}
	}
}
# gpm_r_q_storage_compressor
wg_gpm_r_q_storage_compressor = {
	casus_belli = cb_gpm_r_q_storage_compressor

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_q_storage_compressor } }
			steal_relic = {
				target = FROM
				relic = gpm_r_q_storage_compressor
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_q_storage_compressor >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_pacifist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_pacifist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_authoritarian
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_fanatic_authoritarian
			factor = 2
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
	}
}
# gpm_r_soul_gem
wg_gpm_r_soul_gem = {
	casus_belli = cb_gpm_r_soul_gem

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_soul_gem } }
			steal_relic = {
				target = FROM
				relic = gpm_r_soul_gem
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_soul_gem >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			has_ethic = ethic_materialist
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_materialist
			factor = 0.5
		}
		modifier = {
			is_machine_empire = yes
			factor = 0.6
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_megacorp = yes
			factor = 2
		}
		modifier = {
			has_ethic = ethic_xenophobe
			factor = 0.75
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophobe
			factor = 0.5
		}
		modifier = {
			has_ethic = ethic_fanatic_xenophile
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_xenophile
			factor = 2
		}
	}
}
# gpm_r_self_repairing_obelisk
wg_gpm_r_self_repairing_obelisk = {
	casus_belli = cb_gpm_r_self_repairing_obelisk

	hide_if_no_cb = yes
	release_occupied_systems_on_status_quo = no
	threat_multiplier = 2.0
	war_exhaustion = 2.0
	# cede_claims = no

	galactic_empire_joins_defender = {
		from = { is_galactic_emperor = yes }
		imperial_authority >= 100
	}	
	allowed_peace_offers = {
		status_quo
		surrender
		demand_surrender
	}

	surrender_acceptance = 20


	potential = {
		always = yes
	}
	possible = {
		custom_tooltip = {
			fail_text = has_claimed_all_systems
			from = {
				gpm_is_country_type_default = yes
				any_owned_planet = {
					is_colony = yes
					root = {
						NOT = { has_claim = prev.solar_system }
					}
				}
			}
		}
		custom_tooltip = {
			fail_text = cannot_use_against_emperor
			OR = {
				from = { is_galactic_emperor = no }
				is_galactic_community_member = no
			}
		}
		custom_tooltip = {
			fail_text = pax_galactica_active
			NAND = {
				is_active_resolution = resolution_emperor_pax_galactica
				is_galactic_community_member = yes
				from = { is_galactic_community_member = yes }
			}
		}
	}
	on_accept = {
		hidden_effect = {
			set_timed_country_flag = {
				flag = gpm_recent_relic_war_ended
				years = 20
			}
			from = {
				add_threat = {
					who = root
					amount = 0.5
				}
			}
		}
		# Relic switches hands
		if = {
			limit = { from = { has_relic = gpm_r_self_repairing_obelisk } }
			steal_relic = {
				target = FROM
				relic = gpm_r_self_repairing_obelisk
			}
			
			log = "<< RELICS >> | RELIC WAR <<< ROOT = [root.GetName] claimed <<< gpm_r_self_repairing_obelisk >>> from FROM = [from.GetName] >>>"
		}
		# Defender is humiliated
		from = { 
			add_modifier = { modifier = humiliated days = 3600 }
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
		# actions on all other countries to remove known relic flags
		every_relation = {
			limit = {
				gpm_is_country_type_default = yes
				has_communications = root
			}
			log = "<< RELICS >> | RELIC WAR <<< create message on THIS = [THIS.GetName]"
			create_message = {
				type = GPM_MESSAGE_RELIC_WAR
				localization = GPM_MESSAGE_RELIC_WAR_DESC
				days = 30
				target = root.capital_scope
				variable = {
					type = name
					localization = COUNTRY
					scope = root
				}
				variable = {
					type = name
					localization = COUNTRY_TARGET
					scope = root.from
				}
			}
		}
	}
	on_status_quo = {
		log = "<< RELICS >> | RELIC WAR <<< attacker ROOT = [root.GetName] status quoed with defender FROM = [from.GetName] >>>"
		from = {
			set_closed_borders = {
				who = prev
				status = yes
			}
		}
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_flag = gpm_recent_relic_war_ended
		}
		modifier = {
			factor = 2
			is_rival = from
		}
		modifier = {
			opinion_level = {
				who = from
				level <= neutral
			}
			factor = 1.5
		}
		modifier = {
			num_owned_relics = 1
			factor = 1.2
		}
		modifier = {
			num_owned_relics = 2
			factor = 1.4
		}
		modifier = {
			num_owned_relics = 3
			factor = 1.6
		}
		modifier = {
			num_owned_relics = 4
			factor = 1.8
		}
		modifier = {
			num_owned_relics = 5
			factor = 2
		}
		modifier = {
			num_owned_relics >= 6
			factor = 2.2
		}
		modifier = {
			has_ethic = ethic_fanatic_spiritualist
			factor = 1.5
		}
		modifier = {
			has_ethic = ethic_spiritualist
			factor = 2
		}
		modifier = {
			is_hive_empire = yes
			factor = 0.6
		}
		modifier = {
			is_machine_empire = yes
			factor = 2
		}
	}
}