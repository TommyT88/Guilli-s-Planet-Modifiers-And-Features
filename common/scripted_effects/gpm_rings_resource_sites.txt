
@angle_1 = 45
@angle_2 = 340
@angle_3 = 210
@angle_4 = 110

# [orbit_distance_offset] Variables for distance to planet
@large_close = 15
@large_centre = 17
@large_far = 19

@medium_close = 12
@medium_centre = 14
@medium_far = 16

@small_close = 8
@small_centre = 9
@small_far = 10

# REAL SPACE COMPATIBILITY #
@large_close_rs = 9			#
@large_centre_rs = 10		#
@large_far_rs = 11			#
							#
@medium_close_rs = 6		#
@medium_centre_rs = 7		#
@medium_far_rs = 8			#
							#
@small_close_rs = 3			#
@small_centre_rs = 4		#
@small_far_rs = 5			#
###########################

gpm_spawn_RES = {
	#################################
	##### No Real Space Scaling######
	#################################
	if = {
		limit = {
			NOR = {
				has_global_flag = "has_system_scale_mod"
				has_global_flag = "gpm_planetary_rings_disabled"
				exists = space_owner
			}
		}

		### BIG RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag = gpm_rings_huge
					has_planet_flag = gpm_rings_large
					has_planet_flag = has_rings_01_large
					has_planet_flag = has_rings_02_large
					has_planet_flag = has_rings_03_large
					has_planet_flag = has_rings_04_large
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @large_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @large_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @large_far
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 40
							orbit_distance_offset = @large_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 50
							orbit_distance_offset = @large_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					50 = { }
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @large_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @large_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @large_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 130
							orbit_distance_offset = @large_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 140
							orbit_distance_offset = @large_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					65 = { }
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @large_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @large_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @large_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 220
							orbit_distance_offset = @large_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 230
							orbit_distance_offset = @large_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					80 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @large_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @large_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @large_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 310
							orbit_distance_offset = @large_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 320
							orbit_distance_offset = @large_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
			}
		}

		### MEDIUM RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag =  gpm_rings_medium
					has_planet_flag = has_rings_01_sparse
					has_planet_flag = has_rings_02_sparse
					has_planet_flag = has_rings_03_sparse
					has_planet_flag = has_rings_04_sparse
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @medium_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @medium_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @medium_far
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 40
							orbit_distance_offset = @medium_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 50
							orbit_distance_offset = @medium_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					55 = { }
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @medium_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @medium_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @medium_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 130
							orbit_distance_offset = @medium_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 140
							orbit_distance_offset = @medium_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					75 = { }
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @medium_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @medium_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @medium_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 220
							orbit_distance_offset = @medium_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 230
							orbit_distance_offset = @medium_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					90 = { }
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @medium_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @medium_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @medium_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 310
							orbit_distance_offset = @medium_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 320
							orbit_distance_offset = @medium_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
			}
		}

		### SMALL RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag =  gpm_rings_small
					has_planet_flag = has_rings_01_small
					has_planet_flag = has_rings_02_small
					has_planet_flag = has_rings_03_small
					has_planet_flag = has_rings_04_small
					has_planet_flag = has_rings_01_thin
					has_planet_flag = has_rings_02_thin
					has_planet_flag = has_rings_03_thin
					has_planet_flag = has_rings_01_rare
					has_planet_flag = has_rings_02_rare
					# has_planet_flag = has_rings_01_low
					# has_planet_flag = has_rings_02_low
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @small_close
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @small_centre
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @small_far
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
				}
				random_list = {
					55 = { }
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @small_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @small_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @small_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
				}
				random_list = {
					75 = { }
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @small_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @small_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @small_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
				}
				random_list = {
					90 = { }
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @small_close
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @small_centre
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @small_far
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
				}
			}
		}
	}

	###################################
	##### With Real Space Scaling #####
	###################################
	if = {
		limit = {
			has_global_flag = "has_system_scale_mod"
			NOR = {
				has_global_flag = "gpm_planetary_rings_disabled"
				exists = space_owner
			}
		}
		
		### BIG RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag = gpm_rings_huge
					has_planet_flag = gpm_rings_large
					has_planet_flag = has_rings_01_large
					has_planet_flag = has_rings_02_large
					has_planet_flag = has_rings_03_large
					has_planet_flag = has_rings_04_large
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @large_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @large_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @large_far_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 40
							orbit_distance_offset = @large_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 50
							orbit_distance_offset = @large_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					50 = { }
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @large_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @large_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					15 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @large_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 130
							orbit_distance_offset = @large_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 140
							orbit_distance_offset = @large_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					65 = { }
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @large_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @large_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					10 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @large_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 220
							orbit_distance_offset = @large_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 230
							orbit_distance_offset = @large_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					80 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @large_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @large_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @large_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 310
							orbit_distance_offset = @large_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 320
							orbit_distance_offset = @large_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
			}
		}

		### MEDIUM RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag = gpm_rings_medium
					has_planet_flag = has_rings_01_sparse
					has_planet_flag = has_rings_02_sparse
					has_planet_flag = has_rings_03_sparse
					has_planet_flag = has_rings_04_sparse
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @medium_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @medium_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @medium_far_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 40
							orbit_distance_offset = @medium_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 50
							orbit_distance_offset = @medium_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					55 = { }
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @medium_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @medium_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @medium_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 130
							orbit_distance_offset = @medium_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 140
							orbit_distance_offset = @medium_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					75 = { }
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @medium_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @medium_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @medium_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 220
							orbit_distance_offset = @medium_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 230
							orbit_distance_offset = @medium_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
				random_list = {
					90 = { }
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @medium_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @medium_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @medium_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}		
						}
					}
				}
				random_list = {
					85 = { }
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 310
							orbit_distance_offset = @medium_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
					5 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 320
							orbit_distance_offset = @medium_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
								gpm_random_ring_feature = yes
							}
						}
					}
				}
			}
		}

		### SMALL RINGS ###
		if = {
			limit = {
				OR = {
					has_planet_flag = gpm_rings_small
					has_planet_flag = has_rings_01_small
					has_planet_flag = has_rings_02_small
					has_planet_flag = has_rings_03_small
					has_planet_flag = has_rings_04_small
					has_planet_flag = has_rings_01_thin
					has_planet_flag = has_rings_02_thin
					has_planet_flag = has_rings_03_thin
					has_planet_flag = has_rings_01_rare
					has_planet_flag = has_rings_02_rare
					# has_planet_flag = has_rings_01_low
					# has_planet_flag = has_rings_02_low
				}
			}
			save_event_target_as = res_location_planet
			set_planet_flag = gpm_has_RES
			solar_system = {
				random_list = {
					35 = { }
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 0
							orbit_distance_offset = @small_close_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 10
							orbit_distance_offset = @small_centre_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
					20 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 20
							orbit_distance_offset = @small_far_rs
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
				}
				random_list = {
					55 = { }
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 90
							orbit_distance_offset = @small_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 100
							orbit_distance_offset = @small_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					13 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 110
							orbit_distance_offset = @small_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
				}
				random_list = {
					75 = { }
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 180
							orbit_distance_offset = @small_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 190
							orbit_distance_offset = @small_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					7 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet
							
							orbit_location = yes
							orbit_angle_offset = 200
							orbit_distance_offset = @small_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
				}
				random_list = {
					90 = { }
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 270
							orbit_distance_offset = @small_close_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 280
							orbit_distance_offset = @small_centre_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}		
						}
					}
					2 = {
						spawn_planet = {
							class = "pc_gpm_res"
							location = event_target:res_location_planet

							orbit_location = yes
							orbit_angle_offset = 290
							orbit_distance_offset = @small_far_rs
							
							init_effect = {
								set_name = pc_gpm_res_anomaly_name
								set_planet_entity = {
									entity = "gpm_rings_metallic_large_RES_RS"
								}
								set_surveyed = { surveyed = no surveyor = event_target:gpm_host_country_event_target }
								set_planet_flag = gpm_is_RES
								prevent_anomaly = yes
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_metallic_ring } }
									gpm_random_res_metallic_ring_deposit = yes
								}
								if = {
									limit = { event_target:res_location_planet = { has_modifier = gpm_ice_ring } }
									gpm_random_res_ice_ring_deposit = yes
								}
							}
						}
					}
				}
			}
		}
	}
}