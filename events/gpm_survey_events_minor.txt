### Survey reward rules
# gpm_has_minor_survey_visit = used to prevent stacking deposits

@tier1researchreward_half= 3
@tier1researchmin_half = 30
@tier1researchmax_half = 150

@tier1researchreward_qrt = 1
@tier1researchmin_qrt = 10
@tier1researchmax_qrt = 75

@tier1unityreward_half = 50
@tier1unitymin_half = 50
@tier1unitymax_half = 500


namespace = gpm_survey_minor

# ROOT = ship scope
# FROM = planet scope

# delayed event to add planet flag preventing double deposits dipping
planet_event = {
	id = gpm_survey_minor.9999
	hide_window = yes	
	is_triggered_only = yes

	trigger = {
		NOT = { has_planet_flag = gpm_has_minor_survey_visit }
	}

	immediate = {
		set_planet_flag = gpm_has_minor_survey_visit
	}
}

# gpm_hollow_structure
ship_event = {
	id = gpm_survey_minor.1
	title = "gpm_survey_minor.1.name"
	desc = "gpm_survey_minor.1.desc"
	picture = GFX_evt_gpm_hollow_structure
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_hollow_structure
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_hollow_structure_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_hollow_structure_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = DISCONCERTING
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_paranoid }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_paranoid } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_paranoid }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_paranoid } }
			}
		}

		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE		
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_paranoid }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_paranoid } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_crystallized_structure
ship_event = {
	id = gpm_survey_minor.5
	title = "gpm_survey_minor.5.name"
	desc = "gpm_survey_minor.5.desc"
	picture = GFX_evt_gpm_crystallized_structure
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_crystallized_structure
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_crystallized_structure_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_crystallized_structure_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = AMAZING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }

		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_engineering_2 }
							8 = { add_deposit = d_engineering_3 }
							4 = { add_deposit = d_engineering_4 }
							2 = { add_deposit = d_engineering_5 }
							1 = { add_deposit = d_engineering_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = rare_crystals
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}

		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_2
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				}
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	

}
# gpm_abandoned_mining_platforms
ship_event = {
	id = gpm_survey_minor.10
	title = "gpm_survey_minor.10.name"
	desc = "gpm_survey_minor.10.desc"
	picture = GFX_evt_gpm_abandoned_mining_platforms
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_abandoned_mining_platforms
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_abandoned_mining_platforms_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_abandoned_mining_platforms_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = CURIOUS
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_voidcraft }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_voidcraft } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_minerals_2 }
							8 = { add_deposit = d_minerals_3 }
							4 = { add_deposit = d_minerals_4 }
							2 = { add_deposit = d_minerals_5 }
							1 = { add_deposit = d_minerals_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_minerals_1 }
								20 = { add_deposit = d_minerals_2 }
								10 = { add_deposit = d_minerals_3 }
								5 = { add_deposit = d_alloys_1 }
								5 = { add_deposit = d_rare_crystals_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_2
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_voidcraft }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_voidcraft } }
			}
		}
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_3
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_voidcraft }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_voidcraft } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	

}
# gpm_hydrogen_mist
ship_event = {
	id = gpm_survey_minor.15
	title = "gpm_survey_minor.15.name"
	desc = "gpm_survey_minor.15.desc"
	picture = GFX_evt_gpm_hydrogen_mist
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_hydrogen_mist
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_hydrogen_mist_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_hydrogen_mist_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = REMARKABLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = energy
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_energy_2 }
							8 = { add_deposit = d_energy_3 }
							4 = { add_deposit = d_energy_4 }
							2 = { add_deposit = d_energy_5 }
							1 = { add_deposit = d_energy_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_energy_1 }
								20 = { add_deposit = d_energy_2 }
								10 = { add_deposit = d_energy_3 }
								5 = { add_deposit = d_exotic_gases_1 }
								5 = { add_deposit = d_volatile_motes_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						root.owner = {
							add_monthly_resource_mult = {
								resource = energy
								value = @tier2materialreward
								min = @tier2materialmin
								max = @tier2materialmax
							}
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_3
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						root.owner = {
							add_monthly_resource_mult = {
								resource = energy
								value = @tier2materialreward
								min = @tier2materialmin
								max = @tier2materialmax
							}
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_4
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						root.owner = {
							add_monthly_resource_mult = {
								resource = energy
								value = @tier2materialreward
								min = @tier2materialmin
								max = @tier2materialmax
							}
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_salt_flats
ship_event = {
	id = gpm_survey_minor.20
	title = "gpm_survey_minor.20.name"
	desc = "gpm_survey_minor.20.desc"
	picture = GFX_evt_gpm_salt_flats
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_salt_flats
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_salt_flats_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_salt_flats_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTERESTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_2
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_5
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				}
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	

}
# gpm_relic_lower_levels
ship_event = {
	id = gpm_survey_minor.25
	title = "gpm_survey_minor.25.name"
	desc = "gpm_survey_minor.25.desc"
	picture = GFX_evt_gpm_relic_lower_levels
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_relic_lower_levels
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_relic_lower_levels_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_relic_lower_levels_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INCREDIBLE
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
		}
		
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				root.owner = {
					add_monthly_resource_mult = {
						resource = physics_research
						value = @tier1researchreward_half
						min = @tier1researchmin_half
						max = @tier1researchmax_half
					}
					add_monthly_resource_mult = {
						resource = society_research
						value = @tier1researchreward_half
						min = @tier1researchmin_half
						max = @tier1researchmax_half
					}
					add_monthly_resource_mult = {
						resource = engineering_research
						value = @tier1researchreward_half
						min = @tier1researchmin_half
						max = @tier1researchmax_half
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH_3
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 50 } } }
			6 = { owner = { add_resource = { energy = 250 } } }
			7 = { owner = { add_resource = { energy = 500 } } }
			9 = { owner = { add_resource = { energy = 750 } } }
			10 = { owner = { add_resource = { energy = 1000 } } }
			10 = { owner = { add_resource = { energy = 1250 } } }
			10 = { owner = { add_resource = { energy = 1500 } } }
			9 = { owner = { add_resource = { energy = 1750 } } }
			7 = { owner = { add_resource = { energy = 2000 } } }
			6 = { owner = { add_resource = { energy = 2250 } } }
			5 = { owner = { add_resource = { energy = 2500 } } }
		}
		
		#### Deposit or Research ####
		# resources
		# custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		# FROM = {
		# 	gpm_d_random_trade = yes
		# }
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_6
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}

		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	

}
# gpm_water_pockets
ship_event = {
	id = gpm_survey_minor.30
	title = "gpm_survey_minor.30.name"
	desc = "gpm_survey_minor.30.desc"
	picture = GFX_evt_gpm_water_pockets
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_water_pockets
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_water_pockets_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_water_pockets_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = ASTOUNDING 
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_4
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	# MEGACORP OPTION # SELL DUNG
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey_minor.MEGACORPSELL_DUNG
		owner = { add_resource = { energy = 1000 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_7
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	

}
# gpm_geometrical_polar_storm
ship_event = {
	id = gpm_survey_minor.35
	title = "gpm_survey_minor.35.name"
	desc = "gpm_survey_minor.35.desc"
	picture = GFX_evt_gpm_geometrical_polar_storm
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_geometrical_polar_storm
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_geometrical_polar_storm_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_geometrical_polar_storm_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = FASCINATING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		if = {
			limit = {
				FROM = {
					OR = {
						AND = {
							has_deposit = yes
							NOT = { has_deposit_for = shipclass_research_station }
						}
						has_planet_flag = gpm_has_minor_survey_visit
					}
				}
			}
			root.owner = {
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier1researchreward_half
					min = @tier1researchmin_half
					max = @tier1researchmax_half
				}
			}
		}
		# planet deposit
		FROM = {
			if = {
				limit = {
					OR = {
						has_deposit = no
						has_deposit_for = shipclass_research_station
					}
					NOT = { has_planet_flag = gpm_has_minor_survey_visit }
					gpm_is_planet_class_normal_habitable = no
				}
				locked_random_list = {
					16 = { add_deposit = d_physics_2 }
					8 = { add_deposit = d_physics_3 }
					4 = { add_deposit = d_physics_4 }
					2 = { add_deposit = d_physics_5 }
					1 = { add_deposit = d_physics_6 }
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 = {
						FROM = { 
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_5
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_8
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_floating_forest
ship_event = {
	id = gpm_survey_minor.40
	title = "gpm_survey_minor.40.name"
	desc = "gpm_survey_minor.40.desc"
	picture = GFX_evt_gpm_floating_forest
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_floating_forest
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_floating_forest_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_floating_forest_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = REMARKABLE
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	# FOOD OPTION # 
	option = {
		trigger = {
			root.from = { gpm_is_planet_class_gas_giant = yes }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_mining_station
				}
			}
			root = {
				owner = {
					OR = {
						is_machine_empire = no
						has_civic = civic_machine_servitor
					}
				}
			}
		}
		name = gpm_survey.FOOD_1
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		root.from = { gpm_d_random_food = yes }
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								27 = { add_deposit = gpm_d_food_4 }
								9 = { add_deposit = gpm_d_food_5 }
								3 = { add_deposit = gpm_d_food_6 }
								1 = { add_deposit = gpm_d_food_7 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_6
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_9
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_viscous_gas_layer
ship_event = {
	id = gpm_survey_minor.45
	title = "gpm_survey_minor.45.name"
	desc = "gpm_survey_minor.45.desc"
	picture = GFX_evt_gpm_viscous_gas_layer
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_viscous_gas_layer
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_viscous_gas_layer_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_viscous_gas_layer_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = DISCONCERTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_7
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_10
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_everlasting_tornadoes
ship_event = {
	id = gpm_survey_minor.50
	title = "gpm_survey_minor.50.name"
	desc = "gpm_survey_minor.50.desc"
	picture = GFX_evt_gpm_everlasting_tornadoes
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_everlasting_tornadoes
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_everlasting_tornadoes_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_everlasting_tornadoes_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTRIGUING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_8
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE		
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = {
			if = {
				limit = {
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_shrinking_giant
ship_event = {
	id = gpm_survey_minor.55
	title = "gpm_survey_minor.55.name"
	desc = "gpm_survey_minor.55.desc"
	picture = GFX_evt_gpm_shrinking_giant
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_shrinking_giant
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_shrinking_giant_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_shrinking_giant_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = REMARKABLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_9
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_2
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_aeroplankton_clouds
ship_event = {
	id = gpm_survey_minor.60
	title = "gpm_survey_minor.60.name"
	desc = "gpm_survey_minor.60.desc"
	picture = GFX_evt_gpm_aeroplankton_clouds
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_aeroplankton_clouds
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_aeroplankton_clouds_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_aeroplankton_clouds_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = AMAZING
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_biology }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_biology } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	# FOOD OPTION # 
	option = {
		trigger = {
			root.from = { gpm_is_planet_class_gas_giant = yes }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_mining_station
				}
			}
			root = {
				owner = {
					OR = {
						is_machine_empire = no
						has_civic = civic_machine_servitor
					}
				}
			}
		}
		name = gpm_survey.FOOD_2
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		root.from = { gpm_d_random_food = yes }
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								27 = { add_deposit = gpm_d_food_4 }
								9 = { add_deposit = gpm_d_food_5 }
								3 = { add_deposit = gpm_d_food_6 }
								1 = { add_deposit = gpm_d_food_7 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_10
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_biology }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_biology } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_3
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_biology }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_biology } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_abandoned_refineries
ship_event = {
	id = gpm_survey_minor.65
	title = "gpm_survey_minor.65.name"
	desc = "gpm_survey_minor.65.desc"
	picture = GFX_evt_gpm_abandoned_refineries
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_abandoned_refineries
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_abandoned_refineries_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_abandoned_refineries_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INCREDIBLE
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_propulsion }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_propulsion } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						locked_random_list = {
							10 = {
								add_monthly_resource_mult = {
									resource = minerals
									value = @tier1materialreward
									min = @tier1materialmin
									max = @tier1materialmax
								}
							}
							10 = {
								add_monthly_resource_mult = {
									resource = energy
									value = @tier1materialreward
									min = @tier1materialmin
									max = @tier1materialmax
								}
							}
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_energy_2 }
							8 = { add_deposit = d_energy_3 }
							4 = { add_deposit = d_energy_4 }
							2 = { add_deposit = d_energy_5 }
							1 = { add_deposit = d_energy_6 }
						}
						locked_random_list = {
							16 = { add_deposit = d_minerals_2 }
							8 = { add_deposit = d_minerals_3 }
							4 = { add_deposit = d_minerals_4 }
							2 = { add_deposit = d_minerals_5 }
							1 = { add_deposit = d_minerals_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_energy_1 }
								20 = { add_deposit = d_energy_2 }
								10 = { add_deposit = d_energy_3 }
								5 = { add_deposit = d_exotic_gases_1 }
								5 = { add_deposit = d_volatile_motes_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_minerals_1 }
								20 = { add_deposit = d_minerals_2 }
								10 = { add_deposit = d_minerals_3 }
								5 = { add_deposit = d_alloys_1 }
								5 = { add_deposit = d_rare_crystals_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = energy
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_4
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_propulsion }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_propulsion } }
			}
		}
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = energy
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_4
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_propulsion }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_propulsion } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = energy
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_floating_kelp
ship_event = {
	id = gpm_survey_minor.70
	title = "gpm_survey_minor.70.name"
	desc = "gpm_survey_minor.70.desc"
	picture = GFX_evt_gpm_floating_kelp
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_floating_kelp
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_floating_kelp_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_floating_kelp_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = ASTOUNDING 
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	# FOOD OPTION # 
	option = {
		trigger = {
			root.from = { gpm_is_planet_class_gas_giant = yes }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_mining_station
				}
			}
			root = {
				owner = {
					OR = {
						is_machine_empire = no
						has_civic = civic_machine_servitor
					}
				}
			}
		}
		name = gpm_survey.FOOD_3
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		root.from = { gpm_d_random_food = yes }
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								27 = { add_deposit = gpm_d_food_4 }
								9 = { add_deposit = gpm_d_food_5 }
								3 = { add_deposit = gpm_d_food_6 }
								1 = { add_deposit = gpm_d_food_7 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_5
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_super_heated_atmosphere
ship_event = {
	id = gpm_survey_minor.75
	title = "gpm_survey_minor.75.name"
	desc = "gpm_survey_minor.75.desc"
	picture = GFX_evt_gpm_super_heated_atmosphere
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_super_heated_atmosphere
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_super_heated_atmosphere_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_super_heated_atmosphere_discovered
			}
		}
	}
		
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = PECULIAR
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_engineering_2 }
							8 = { add_deposit = d_engineering_3 }
							4 = { add_deposit = d_engineering_4 }
							2 = { add_deposit = d_engineering_5 }
							1 = { add_deposit = d_engineering_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_2
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_6
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_floatig_behemothaurs
ship_event = {
	id = gpm_survey_minor.80
	title = "gpm_survey_minor.80.name"
	desc = "gpm_survey_minor.80.desc"
	picture = GFX_evt_gpm_floatig_behemothaurs
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_floatig_behemothaurs
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_floatig_behemothaurs_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_floatig_behemothaurs_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = ASTOUNDING 
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_psionics }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_psionics } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_carefree }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_carefree } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						add_deposit = d_society_5
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	# FOOD OPTION # 
	option = {
		trigger = {
			root.from = { gpm_is_planet_class_gas_giant = yes }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_mining_station
				}
			}
			root = {
				owner = {
					OR = {
						is_machine_empire = no
						has_civic = civic_machine_servitor
					}
				}
			}
		}
		name = gpm_survey.FOOD_4
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		root.from = { gpm_d_random_food = yes }
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								27 = { add_deposit = gpm_d_food_7 }
								9 = { add_deposit = gpm_d_food_8 }
								3 = { add_deposit = gpm_d_food_9 }
								1 = { add_deposit = gpm_d_food_10 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = food
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
						modifier = { factor = 0 is_machine_empire = yes }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_3
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_psionics }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_psionics } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_carefree }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_carefree } }
			}
		}		
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}

		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			locked_random_list = {
				10 = { add_deposit = d_trade_value_3 }
				10 = { add_deposit = d_trade_value_4 }
				10 = { add_deposit = d_trade_value_5 }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_trade_value_4 }
								10 = { add_deposit = d_trade_value_5 }
								10 = { add_deposit = d_trade_value_6 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_7
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_psionics }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_psionics } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_carefree }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_carefree } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_magma_ocean
ship_event = {
	id = gpm_survey_minor.85
	title = "gpm_survey_minor.85.name"
	desc = "gpm_survey_minor.85.desc"
	picture = GFX_evt_gpm_magma_ocean
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_magma_ocean
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_magma_ocean_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_magma_ocean_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTERESTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_minerals_2 }
							8 = { add_deposit = d_minerals_3 }
							4 = { add_deposit = d_minerals_4 }
							2 = { add_deposit = d_minerals_5 }
							1 = { add_deposit = d_minerals_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_minerals_1 }
								20 = { add_deposit = d_minerals_2 }
								10 = { add_deposit = d_minerals_3 }
								5 = { add_deposit = d_alloys_1 }
								5 = { add_deposit = d_rare_crystals_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_5
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_8
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_heavy_elements
ship_event = {
	id = gpm_survey_minor.90
	title = "gpm_survey_minor.90.name"
	desc = "gpm_survey_minor.90.desc"
	picture = GFX_evt_gpm_heavy_elements
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_heavy_elements
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_heavy_elements_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_heavy_elements_discovered
			}
		}
	}
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = REMARKABLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = alloys
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							8 = { add_deposit = d_alloys_1 }
							4 = { add_deposit = d_alloys_2 }
							2 = { add_deposit = d_alloys_3 }
							1 = { add_deposit = d_alloys_4 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								20 = { add_deposit = d_alloys_1 }
								15 = { add_deposit = d_alloys_2 }
								10 = { add_deposit = d_alloys_3 }
								5 = { add_deposit = d_rare_crystals_1 }
								5 = { add_deposit = d_exotic_gases_1 }
								5 = { add_deposit = d_volatile_motes_1 }
								5 = { add_deposit = d_minerals_4 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_6
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_9
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_rare_metals
ship_event = {
	id = gpm_survey_minor.95
	title = "gpm_survey_minor.95.name"
	desc = "gpm_survey_minor.95.desc"
	picture = GFX_evt_gpm_rare_metals
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_rare_metals
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_rare_metals_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_rare_metals_discovered
			}
		}
	}
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTERESTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = alloys
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							8 = { add_deposit = d_alloys_1 }
							4 = { add_deposit = d_alloys_2 }
							2 = { add_deposit = d_alloys_3 }
							1 = { add_deposit = d_alloys_4 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								20 = { add_deposit = d_alloys_1 }
								15 = { add_deposit = d_alloys_2 }
								10 = { add_deposit = d_alloys_3 }
								5 = { add_deposit = d_rare_crystals_1 }
								5 = { add_deposit = d_exotic_gases_1 }
								5 = { add_deposit = d_volatile_motes_1 }
								5 = { add_deposit = d_minerals_4 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = alloys
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_MINING_7
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = alloys
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_10
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = alloys
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_proto_planet
ship_event = {
	id = gpm_survey_minor.100
	title = "gpm_survey_minor.100.name"
	desc = "gpm_survey_minor.100.desc"
	picture = GFX_evt_gpm_proto_planet
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_proto_planet
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_proto_planet_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_proto_planet_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = FASCINATING
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_4
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE		
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_expertise_new_worlds }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_expertise_new_worlds } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_old_world
ship_event = {
	id = gpm_survey_minor.110
	title = "gpm_survey_minor.110.name"
	desc = "gpm_survey_minor.110.desc"
	picture = GFX_evt_gpm_old_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_old_world
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_old_world_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_old_world_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = ASTOUNDING 
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH_5
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_2
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_solidified_core
ship_event = {
	id = gpm_survey_minor.115
	title = "gpm_survey_minor.115.name"
	desc = "gpm_survey_minor.115.desc"
	picture = GFX_evt_gpm_solidified_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_solidified_core
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_solidified_core_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_solidified_core_discovered
			}
		}
		FROM = { set_planet_flag = gpm_solidified_planet_core }
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = REMARKABLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH_6
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_3
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}
		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_subterranean_eco_system
ship_event = {
	id = gpm_survey_minor.120
	title = "gpm_survey_minor.120.name"
	desc = "gpm_survey_minor.120.desc"
	picture = GFX_evt_gpm_subterranean_eco_system
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_subterranean_eco_system
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_subterranean_eco_system_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_subterranean_eco_system_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = PECULIAR
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_7
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_4
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_plasma_tornadoes
ship_event = {
	id = gpm_survey_minor.125
	title = "gpm_survey_minor.125.name"
	desc = "gpm_survey_minor.125.desc"
	picture = GFX_evt_gpm_plasma_tornadoes
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_plasma_tornadoes
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_plasma_tornadoes_discovered
					}
				}
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = CURIOUS
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							10 = {
								locked_random_list = {
									16 = { add_deposit = d_physics_1 }
									8 = { add_deposit = d_physics_2 }
									4 = { add_deposit = d_physics_3 }
									2 = { add_deposit = d_physics_4 }
								}
							}
							10 = {
								locked_random_list = {
									2 = { add_deposit = d_engineering_4 }
									4 = { add_deposit = d_engineering_3 }
									8 = { add_deposit = d_engineering_2 }
									16 = { add_deposit = d_engineering_1 }
								}
							}
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_physics_4 }
								5 = { add_deposit = d_physics_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = d_engineering_4 }
								5 = { add_deposit = d_engineering_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_8
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_5
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_plasma_tornadoes_discovered
			}
		}
	}
}
# gpm_singing_star
ship_event = {
	id = gpm_survey_minor.130
	title = "gpm_survey_minor.130.name"
	desc = "gpm_survey_minor.130.desc"
	picture = GFX_evt_gpm_singing_star
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_singing_star
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_singing_star_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_singing_star_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INCREDIBLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_physics_2 }
							8 = { add_deposit = d_physics_3 }
							4 = { add_deposit = d_physics_4 }
							2 = { add_deposit = d_physics_5 }
							1 = { add_deposit = d_physics_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_9
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_6
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = {
			if = {
				limit = {
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				}
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_precursor_star_filter
ship_event = {
	id = gpm_survey_minor.135
	title = "gpm_survey_minor.135.name"
	desc = "gpm_survey_minor.135.desc"
	picture = GFX_evt_gpm_precursor_star_filter
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_precursor_star_filter
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_precursor_star_filter_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_precursor_star_filter_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = AMAZING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							10 = {
								locked_random_list = {
									4 = { add_deposit = d_physics_4 }
									2 = { add_deposit = d_physics_5 }
									1 = { add_deposit = d_physics_6 }
								}
							}
							10 = {
								locked_random_list = {
									4 = { add_deposit = d_society_4 }
									2 = { add_deposit = d_society_5 }
									1 = { add_deposit = d_society_6 }
								}
							}
							10 = {
								locked_random_list = {
									4 = { add_deposit = d_engineering_4 }
									2 = { add_deposit = d_engineering_5 }
									1 = { add_deposit = d_engineering_6 }
								}
							}
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_10
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_7
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = d_physics_2 }
				10 = { add_deposit = d_physics_3 }
				10 = { add_deposit = d_physics_4 }
			}
			locked_random_list = {
				10 = { add_deposit = d_society_4 }
				10 = { add_deposit = d_society_2 }
				10 = { add_deposit = d_society_3 }
			}
			locked_random_list = {
				10 = { add_deposit = d_engineering_3 }
				10 = { add_deposit = d_engineering_4 }
				10 = { add_deposit = d_engineering_2 }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_physics_2 }
								8 = { add_deposit = d_physics_3 }
								4 = { add_deposit = d_physics_4 }
								2 = { add_deposit = d_physics_5 }
							}
						}
					}
					10 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_society_2 }
								8 = { add_deposit = d_society_3 }
								4 = { add_deposit = d_society_4 }
								2 = { add_deposit = d_society_5 }
							}
						}
					}
					10 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_engineering_2 }
								8 = { add_deposit = d_engineering_3 }
								4 = { add_deposit = d_engineering_4 }
								2 = { add_deposit = d_engineering_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_lingering_pollution
ship_event = {
	id = gpm_survey_minor.140
	title = "gpm_survey_minor.140.name"
	desc = "gpm_survey_minor.140.desc"
	picture = GFX_evt_gpm_lingering_pollution
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_lingering_pollution
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_lingering_pollution_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_lingering_pollution_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTRIGUING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_8
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_decaying_structures
ship_event = {
	id = gpm_survey_minor.145
	title = "gpm_survey_minor.145.name"
	desc = "gpm_survey_minor.145.desc"
	picture = GFX_evt_gpm_decaying_structures
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_decaying_structures
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_decaying_structures_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_decaying_structures_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INCREDIBLE
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH_3
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_9
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		locked_random_list = {
			90 = {
				root.leader = { gpm_random_experience = yes }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist_ancrel }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist_ancrel } }
				modifier = { factor = 0 root.owner = { has_ancrel = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_archaeologist }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_archaeologist } }
				modifier = { factor = 0 root.owner = { has_ancrel = yes } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_meticulous }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_meticulous } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_inspired_surveyor }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_inspired_surveyor } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_cataloger }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_cataloger } }
				modifier = { factor = 0 root.owner = { is_machine_empire = no } }
			}
			10 = {
				root.leader = {	add_trait = leader_trait_roamer }
				modifier = { factor = 0 root.leader = {	has_trait = leader_trait_roamer } }
				modifier = { factor = 0 root.owner = { is_gestalt = yes } }
			}
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_heavy_metal_coral
ship_event = {
	id = gpm_survey_minor.150
	title = "gpm_survey_minor.150.name"
	desc = "gpm_survey_minor.150.desc"
	picture = GFX_evt_gpm_heavy_metal_coral
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_heavy_metal_coral
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_heavy_metal_coral_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_heavy_metal_coral_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTERESTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_minerals_2 }
							8 = { add_deposit = d_minerals_3 }
							4 = { add_deposit = d_minerals_4 }
							2 = { add_deposit = d_minerals_5 }
							1 = { add_deposit = d_minerals_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_minerals_1 }
								20 = { add_deposit = d_minerals_2 }
								10 = { add_deposit = d_minerals_3 }
								5 = { add_deposit = d_alloys_1 }
								5 = { add_deposit = d_rare_crystals_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_MINING_8
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_10
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier2materialreward
							min = @tier2materialmin
							max = @tier2materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_decomposing_leviathan
ship_event = {
	id = gpm_survey_minor.155
	title = "gpm_survey_minor.155.name"
	desc = "gpm_survey_minor.155.desc"
	picture = GFX_evt_gpm_decomposing_leviathan
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_decomposing_leviathan
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_decomposing_leviathan_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_decomposing_leviathan_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INCREDIBLE
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
			root.from = { gpm_is_planet_class_normal_habitable = no }
		}
		name = gpm_survey.LICENCE_RESEARCH_4
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_megacorp		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		FROM = {
			gpm_d_random_trade = yes
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE		
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = exotic_gases
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}
# gpm_giant_mold_blobs
ship_event = {
	id = gpm_survey_minor.160
	title = "gpm_survey_minor.160.name"
	desc = "gpm_survey_minor.160.desc"
	picture = GFX_evt_gpm_giant_mold_blobs
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			has_modifier = gpm_giant_mold_blobs
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_giant_mold_blobs_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_giant_mold_blobs_discovered
			}
		}
	}

	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = INTRIGUING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = { }
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_research_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_half
							min = @tier1researchmin_half
							max = @tier1researchmax_half
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_research_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_society_2 }
							8 = { add_deposit = d_society_3 }
							4 = { add_deposit = d_society_4 }
							2 = { add_deposit = d_society_5 }
							1 = { add_deposit = d_society_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_RESEARCH_10
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_2
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		custom_tooltip = gpm_survey_reward_deposit_science		
		# locked_random_list = {
			# 10 = { }
			# 10 = { }
		# }
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}	
}
# gpm_toxic_garbage or gpm_garbage_dump
ship_event = {
	id = gpm_survey_minor.165
	title = "gpm_survey_minor.165.name"
	desc = "gpm_survey_minor.165.desc"
	picture = GFX_evt_gpm_toxic_garbage
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes
	
	trigger = {
		# not if the exploration policy is set to the quick epxloration option
		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
		#
		FROM = {
			OR = {
				has_modifier = gpm_toxic_garbage
				has_modifier = gpm_garbage_dump
			}			
			root = {
				owner = {
					NOT = {
						has_country_flag = gpm_toxic_garbage_discovered
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_toxic_garbage_discovered
			}
		}
	}	
	
	# BASIC OPTION #
	option = {
		trigger = {
			
		}
		name = DISCONCERTING
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		#custom_tooltip = gpm_survey_reward_new_line
		locked_random_list = {
			0 = {
				root.owner = {
					add_relic = gpm_r_machine_world_core
					log = "<< RELICS >> | ADD_RELIC <<< gpm_r_machine_world_core >>> to ROOT.OWNER = [root.owner.GetName] ; survey event reward"
					every_relation = {
						limit = {
							is_country_type = default
							has_communications = root.owner
						}
						log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
						create_message = {
							type = GPM_MESSAGE_RELIC_POSSESSION
							localization = GPM_MESSAGE_RELIC_POSSESSION_DESC
							days = 30
							target = root.owner.capital_scope
							variable = {
								type = name
								localization = COUNTRY
								scope = root.owner
							}
						}
					}
				}
				set_global_flag = gpm_r_machine_world_core_found

				# adding modifier weight instead of factoring so we can have adjustable values per ethic/empire type
				modifier = {
					add = 10
					root.owner = { is_machine_empire = yes }
					NOR = {
						has_global_flag = gpm_r_machine_world_core_found
						has_global_flag = gpm_relic_drops_disabled # prevent from appearing if the relics are disabled
					}
				}
				modifier = {
					add = 8
					root.owner = { has_ethic = ethic_fanatic_materialist }
					NOR = {
						has_global_flag = gpm_r_machine_world_core_found
						has_global_flag = gpm_relic_drops_disabled # prevent from appearing if the relics are disabled
					}
				}
				modifier = {
					add = 4
					root.owner = { has_ethic = ethic_materialist }
					NOR = {
						has_global_flag = gpm_r_machine_world_core_found
						has_global_flag = gpm_relic_drops_disabled # prevent from appearing if the relics are disabled
					}
				}
			}
			10 = {
				if = {
					limit = {
						root.from = {
							OR = {
								AND = {
									has_deposit = yes
									NOT = { has_deposit_for = shipclass_mining_station }
								}
								has_planet_flag = gpm_has_minor_survey_visit
							}
						}
					}
					root.owner = {
						add_monthly_resource_mult = {
							resource = minerals
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
				}
				# planet deposit
				root.from = {
					if = {
						limit = {
							OR = {
								has_deposit = no
								has_deposit_for = shipclass_mining_station
							}
							NOT = { has_planet_flag = gpm_has_minor_survey_visit }
							gpm_is_planet_class_normal_habitable = no
						}
						locked_random_list = {
							16 = { add_deposit = d_minerals_2 }
							8 = { add_deposit = d_minerals_3 }
							4 = { add_deposit = d_minerals_4 }
							2 = { add_deposit = d_minerals_5 }
							1 = { add_deposit = d_minerals_6 }
						}
					}
				}
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								15 = { add_deposit = d_minerals_1 }
								20 = { add_deposit = d_minerals_2 }
								10 = { add_deposit = d_minerals_3 }
								5 = { add_deposit = d_alloys_1 }
								5 = { add_deposit = d_rare_crystals_1 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# MEGACORP OPTION #
	option = {
		trigger = {
			root.owner = { has_authority = auth_corporate }
		}
		name = gpm_survey.LICENCE_MINING_9
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		# random wad of cash
		locked_random_list = {
			5 = { owner = { add_resource = { energy = 5 } } }
			6 = { owner = { add_resource = { energy = 25 } } }
			7 = { owner = { add_resource = { energy = 50 } } }
			9 = { owner = { add_resource = { energy = 75 } } }
			10 = { owner = { add_resource = { energy = 100 } } }
			10 = { owner = { add_resource = { energy = 125 } } }
			10 = { owner = { add_resource = { energy = 150 } } }
			9 = { owner = { add_resource = { energy = 175 } } }
			7 = { owner = { add_resource = { energy = 200 } } }
			6 = { owner = { add_resource = { energy = 225 } } }
			5 = { owner = { add_resource = { energy = 250 } } }
		}
		
		#### Deposit or Research ####
		# resources
		locked_random_list = {
			10 = { }
			1 = {
				root.owner = {
					add_relic = gpm_r_machine_world_core
					log = "<< RELICS >> | ADD_RELIC <<< gpm_r_machine_world_core >>> to ROOT.OWNER = [root.owner.GetName] ; survey event reward"
					every_relation = {
						limit = {
							is_country_type = default
							has_communications = root.owner
						}
						log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
						create_message = {
							type = GPM_MESSAGE_RELIC_POSSESSION
							localization = GPM_MESSAGE_RELIC_POSSESSION_DESC
							days = 30
							target = root.owner.capital_scope
							variable = {
								type = name
								localization = COUNTRY
								scope = root.owner
							}
						}
					}
				}
				set_global_flag = gpm_r_machine_world_core_found
				modifier = { factor = 0 has_global_flag = gpm_r_machine_world_core_found }
				modifier = {
					factor = 0
					root.owner = {
						OR = {
							is_machine_empire = no
							NOT = { has_ethic = ethic_materialist }
							NOT = { has_ethic = ethic_fanatic_materialist }
						}
					}
				}
				
				# prevent from appearing if the relics are disabled
				modifier = { factor = 0 has_global_flag = gpm_relic_drops_disabled }
			}
		}
		
		# resources
		if = {
			limit = { FROM = { gpm_is_planet_class_normal_habitable = no } }
			custom_tooltip = gpm_survey_reward_deposit_megacorp		
			# locked_random_list = {
				# 10 = { }
				# 10 = { }
			# }
			FROM = {
				gpm_d_random_trade = yes
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								16 = { add_deposit = d_trade_value_2 }
								8 = { add_deposit = d_trade_value_3 }
								4 = { add_deposit = d_trade_value_4 }
								2 = { add_deposit = d_trade_value_5 }
							}
						}
						modifier = { factor = 0 FROM = { gpm_is_planet_class_normal_habitable = no } }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
	
	# SCIENCE OPTION # 
	option = {
		trigger = {
			root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } }
			root.from = { gpm_is_planet_class_normal_habitable = no }
			root.from = {
				OR = {
					has_deposit = no
					has_deposit_for = shipclass_research_station
				}
			}
			root = {
				owner = {
					OR = {
						has_authority = auth_machine_intelligence
						has_ethic = ethic_materialist
						has_ethic = ethic_fanatic_materialist
					}
				}
			}
		}
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > 15 } } } }
		name = gpm_survey.RESEARCH_EMPIRE_3
		root.owner = { add_resource = { influence = -15 } }
		
		# leader experience
		root.leader = { gpm_random_experience = yes }
		
		#### Deposit or Research ####
		# resources
		locked_random_list = {
			10 = { }
			1 = {
				root.owner = {
					add_relic = gpm_r_machine_world_core
					log = "<< RELICS >> | ADD_RELIC <<< gpm_r_machine_world_core >>> to ROOT.OWNER = [root.owner.GetName] ; survey event reward"
					every_relation = {
						limit = {
							is_country_type = default
							has_communications = root.owner
						}
						log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
						create_message = {
							type = GPM_MESSAGE_RELIC_POSSESSION
							localization = GPM_MESSAGE_RELIC_POSSESSION_DESC
							days = 30
							target = root.owner.capital_scope
							variable = {
								type = name
								localization = COUNTRY
								scope = root.owner
							}
						}
					}
				}
				set_global_flag = gpm_r_machine_world_core_found
				modifier = { factor = 0 has_global_flag = gpm_r_machine_world_core_found }
				modifier = {
					factor = 0
					root.owner = {
						OR = {
							is_machine_empire = no
							NOT = { has_ethic = ethic_materialist }
							NOT = { has_ethic = ethic_fanatic_materialist }
						}
					}
				}
				
				# prevent from appearing if the relics are disabled
				modifier = { factor = 0 has_global_flag = gpm_relic_drops_disabled }
			}
		}

		custom_tooltip = gpm_survey_reward_deposit_science
		root.from = { 
			if = {
				limit = { 
					OR = {
						gpm_is_planet_class_normal_uninhabitable = yes
						gpm_is_planet_class_asteroid = yes
						gpm_is_planet_class_gas_giant = yes
						gpm_is_planet_class_star = yes
					}
					has_deposit_for = shipclass_mining_station
				}
				every_deposit = {
					remove_deposit = yes
				} 
			}
		}
		FROM = {
			locked_random_list = {
				10 = { add_deposit = gpm_d_double_science_phy_soc }
				10 = { add_deposit = gpm_d_double_science_soc_phy }
				10 = { add_deposit = gpm_d_double_science_phy_eng }
				10 = { add_deposit = gpm_d_double_science_eng_phy }
				10 = { add_deposit = gpm_d_double_science_soc_eng }
				10 = { add_deposit = gpm_d_double_science_eng_soc }
				10 = { add_deposit = gpm_d_triple_science }
			}
		}
		
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { has_policy_flag = gpm_more_discovery_rewards }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					3 = {
						FROM = {
							locked_random_list = {
								10 = { add_deposit = d_physics_1 }
								10 = { add_deposit = d_physics_2 }
								10 = { add_deposit = d_physics_3 }
								10 = { add_deposit = d_society_1 }
								10 = { add_deposit = d_society_2 }
								10 = { add_deposit = d_society_3 }
								10 = { add_deposit = d_engineering_1 }
								10 = { add_deposit = d_engineering_2 }
								10 = { add_deposit = d_engineering_3 }
								10 = { add_deposit = gpm_d_triple_science }
							}
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward_qrt
							min = @tier1researchmin_qrt
							max = @tier1researchmax_qrt
						}
					}
					10 = {
						gpm_random_minor_artifacts_5 = yes
						modifier = { factor = 0 has_ancrel = no }
					}
					10 = {
						add_monthly_resource_mult = {
							resource = volatile_motes
							value = @tier1materialreward
							min = @tier1materialmin
							max = @tier1materialmax
						}
					}
					# 3 = { gpm_random_unity = yes }
					3 = { root.leader = { gpm_random_experience = yes } }
				}
			}
		}

		# timed event to place planet flag gpm_has_minor_survey_visit to prevent too many deposits
		hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
	}
}




# gpm_flat_terrain
# ship_event = {
# 	id = gpm_survey_minor.105
# 	title = "gpm_survey_minor.105.name"
# 	desc = "gpm_survey_minor.105.desc"
# 	picture = GFX_evt_gpm_flat_terrain
# 	show_sound = event_scanner
# 	location = FROM

# 	is_triggered_only = yes
	
# 	trigger = {
#		# not if the exploration policy is set to the quick epxloration option
#		owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } }
#		#
# 		FROM = {
# 			has_modifier = gpm_flat_terrain
# 			root = {
# 				owner = {
# 					NOT = {
# 						has_country_flag = gpm_flat_terrain_discovered
# 					}
# 				}
# 			}
# 		}
# 	}

# 	immediate = {
# 		root = {
# 			owner = {
# 				set_country_flag = gpm_flat_terrain_discovered
# 			}
# 		}
# 	}
	
# 	# Space Resource
# 	option = {
# 		trigger = {
# 			FROM = { 
# 				OR = {
# 					has_deposit = no
# 					has_deposit_for = shipclass_research_station				
# 					# has_deposit_for = shipclass_mining_station
# 				}
				# NOT = { has_planet_flag = gpm_has_minor_survey_visit }
# 			}
# 		}
# 		name = INTERESTING
		# # Exploratipn Policy Reward integration
		# owner = {
		# 	if = { 
		# 		limit = { has_policy_flag = gpm_more_discovery_rewards }
		# 		root = { leader = { add_experience = 100 } }
		# 		## Additional Reward ##
		# 	}
		# 	else_if = {
		# 		limit = { NOT = { has_policy_flag = gpm_more_discovery_rewards } }
		# 		root = { leader = { add_experience = 50 } }
		# 	}
		# }
		# 
# 		FROM = {
# 			gpm_d_random_society = yes
# 		}
		# hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
# 	}
# 	# Science
# 	option = {
# 		trigger = {
# 			FROM = { 
# 				OR = {
				# 	AND = {
				# 		has_deposit = yes
				# 		NOT = { has_deposit_for = shipclass_research_station }
				# 		# NOT = { has_deposit_for = shipclass_mining_station }
				# 	}
				# 	has_planet_flag = gpm_has_minor_survey_visit
				# }
# 			}
# 		}
# 		name = INTERESTING
		# # Exploratipn Policy Reward integration
		# owner = {
		# 	if = { 
		# 		limit = { has_policy_flag = gpm_more_discovery_rewards }
		# 		root = { leader = { add_experience = 100 } }
		# 		## Additional Reward ##
		# 	}
		# 	else_if = {
		# 		limit = { NOT = { has_policy_flag = gpm_more_discovery_rewards } }
		# 		root = { leader = { add_experience = 50 } }
		# 	}
		# }
		# # 
# 		root = {
# 			owner = {
# 				add_monthly_resource_mult = {
# 					resource = society_research
# 					value = @tier1researchreward_half
# 					min = @tier1researchmin_half
# 					max = @tier1researchmax_half
# 				}
# 			}
# 		}
		# hidden_effect = { FROM = { planet_event = { id = gpm_survey_minor.9999 days = 7 } } }
# 	}
# }