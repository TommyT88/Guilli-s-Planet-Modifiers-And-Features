### Survey reward rules
# gpm_discovery_reward_1 === empire bonus modifier 1
# gpm_discovery_reward_2 === empire bonus modifier 2
# gpm_discovery_reward_3 === unique tech 1
# gpm_discovery_reward_4 === unique tech 2
# gpm_discovery_reward_5 === special reward 1
# gpm_discovery_reward_6 === special reward 2


@lootboxInfluenceCost = 20
@lootboxInfluenceCost_Add = -20

@tier1researchreward_half = 3
@tier1researchmin_half = 30
@tier1researchmax_half = 150

@tier1researchreward_qrt = 1
@tier1researchmin_qrt = 10
@tier1researchmax_qrt = 75

namespace = gpm_survey
# ROOT = ship scope
# FROM = planet scope

# event to pop specific vanilla discovery events
# Discovery of Alien Life
ship_event = {
	id = gpm_survey.2000
	hide_window = yes
	location = ROOT

	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			NOR = {
				has_country_flag = first_alien_life
				has_country_flag = Story1
				has_country_flag = Story2
				has_country_flag = Story3
				has_country_flag = Story4
				has_country_flag = Story5
				has_country_flag = Story6
				has_country_flag = Story7
				has_country_flag = Story8
			}
		}
		FROM = {
			OR = {
				has_modifier = gpm_subterranean_eco_system
				has_modifier = gpm_hiveworld
				has_modifier = gpm_old_world
				has_modifier = gpm_water_pockets
				has_modifier = gpm_abandoned_mining_platforms
				has_modifier = gpm_relic_lower_levels
				has_modifier = gpm_floating_forest
				has_modifier = gpm_aeroplankton_clouds
				has_modifier = gpm_abandoned_refineries
				has_modifier = gpm_floating_kelp
				has_modifier = gpm_floatig_behemothaurs
				has_modifier = gpm_precursor_star_filter
				has_modifier = gpm_lingering_pollution
				has_modifier = gpm_decaying_structures
				has_modifier = gpm_decomposing_leviathan
				has_modifier = gpm_giant_mold_blobs
				has_modifier = gpm_toxic_garbage
				has_modifier = gpm_garbage_dump
				has_modifier = gpm_ruined_battlefield
				has_modifier = gpm_spaceship_graveyard
				has_modifier = gpm_artificial_water
				has_modifier = gpm_android_pleasure_palace
				has_modifier = gpm_ancient_temple
				has_modifier = gpm_crystal_moon_palace
				has_modifier = gpm_plasmoid_life
				has_modifier = gpm_temple_of_the_ancient_one
				has_modifier = gpm_proto_forests
				has_modifier = gpm_arachnophobia
				has_modifier = gpm_giant_worm
				has_modifier = gpm_artificial_core
				has_modifier = gpm_surface_of_bones
				has_modifier = gpm_strange_alien_eggs
				has_modifier = gpm_mushroom_forest
				has_modifier = gpm_precursor_remnants
				has_modifier = gpm_precursor_energy_grid
				has_modifier = gpm_precursor_satalite_grid
				has_modifier = gpm_precursor_city
				has_modifier = gpm_precursor_shipyards
				has_modifier = gpm_precursor_planetary_gun
				has_modifier = gpm_precursor_bunker_grid
				has_modifier = gpm_precursor_mechs
				has_modifier = gpm_precursor_planetary_shield
				has_modifier = gpm_precursor_floating_city
				has_modifier = gpm_precursor_capital_complex
				has_modifier = gpm_precursor_communication_hub
				has_modifier = gpm_precursor_singularity_drive
				has_modifier = gpm_precursor_eternal_fortress
				has_modifier = gpm_precursor_prison_planet
				has_modifier = gpm_precursor_mines
				has_modifier = gpm_precursor_manufactorium
				has_modifier = gpm_precursor_vaults
				has_modifier = gpm_precursor_crashed_spacestation
				has_modifier = gpm_precursor_battleground_ruins
				has_modifier = gpm_precursor_outpost_ruins
				has_modifier = gpm_precursor_harbor_ruins
				has_modifier = gpm_precursor_ruins
				has_modifier = gpm_precursor_obelisks
			}
		}
	}

	immediate = {
		ship_event = {
			id = progress.2
		}
	}
}

# give tech_mine_betharian if found on mod modifiers/deposits
ship_event = {
	id = gpm_survey.2001
	hide_window = yes
	location = ROOT

	is_triggered_only = yes

	trigger = {
		owner = { NOT = { has_technology = tech_mine_betharian } }
		FROM = { has_modifier = gpm_precursor_vaults }
	}

	immediate = {
		owner = {
			add_research_option = tech_mine_betharian
			add_tech_progress = {
				tech = tech_mine_betharian
				progress = 0.01
			}
		}
	}
}

# find hot core -> give bonus to terraforming. First find.  100% bonus
ship_event = {
	id = gpm_survey.1
	hide_window = yes
	location = ROOT

	is_triggered_only = yes

	trigger = {
		FROM = {
			has_modifier = "gpm_very_hot_core"
			root = {
				owner = {
					NOT = {
						has_modifier = gpm_terraform_speed_three
					}
				}
			}
		}
	}

	immediate = {
		FROM = { save_event_target_as = "hot_core_world"}
		owner = {
			if = {
				limit = { has_modifier = gpm_terraform_speed_two }
				country_event = { id = gpm_survey.4 }
			}
			if = {
				limit = { has_modifier = gpm_terraform_speed_one }
				country_event = { id = gpm_survey.3 }
			}
			if = {
				limit = {
					NOR = {
						has_modifier = gpm_terraform_speed_one
						has_modifier = gpm_terraform_speed_two
						has_modifier = gpm_terraform_speed_three
					}
				}
				root.owner = { country_event = { id = gpm_survey.2 } }
			}
		}
	}
}
# give terraform 1/3 bonus
ship_event = {
	id = gpm_survey.2
	title = "gpm_survey.2.name"
	desc = {
		trigger = {
			root.owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.2.desc"
	}
	desc = {
		trigger = {	root.owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.2.hive.desc"
	}
	desc = {
		trigger = {	root.owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.2.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = INTERESTING
		root.owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
	option = {
		trigger = { root.owner = { NOT = { has_authority = auth_machine_intelligence } } }
		allow = { root.owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } }
		name =  gpm_survey.2.c
		root.owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.2.spec_project
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_1"
					location = event_target:hot_core_world
					owner = root
				}
			}
		}
		root.owner = {
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_corporate } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.3_CORP
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.2.spec_project
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_1"
					location = event_target:hot_core_world
					owner = root
				}
			}
		}
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_machine_intelligence } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.3_MACH
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.2.spec_project
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_1"
					location = event_target:hot_core_world
					owner = root
				}
			}
		}
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_one"
				days = -1
			}
		}
	}
}
# give terraform 2/3 bonus
country_event = {
	id = gpm_survey.3
	title = "gpm_survey.3.name"
	desc = {
		trigger = {
			root.owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.3.desc"
	}
	desc = {
		trigger = { root.owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.3.hive.desc"
	}
	desc = {
		trigger = {	root.owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.3.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = FASCINATING
		root.owner = { 
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
			hidden_effect = {
				remove_modifier = gpm_terraform_speed_one
			}
		}
	}
	option = {
		trigger = { root.owner = { NOT = { has_authority = auth_machine_intelligence } } }
		allow = { root.owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } }
		name =  gpm_survey.2.c
		root.owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.3.spec_project
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_2"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_one }
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_corporate } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.4_CORP
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.3.spec_project
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_2"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_one }
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_machine_intelligence } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.4_MACH
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.3.spec_project
		root.owner = {
			add_modifier = {
				modifier = "gpm_terraform_speed_two"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_2"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_one }
		}
	}
}
# give terraform 3/3 bonus
country_event = {
	id = gpm_survey.4
	title = "gpm_survey.4.name"
	desc = {
		trigger = {
			root.owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.4.desc"
	}
	desc = {
		trigger = {	root.owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.4.hive.desc"
	}
	desc = {
		trigger = {	root.owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.4.mach.desc"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	option = {
		name = gpm_survey.4.a
		root.owner = { 
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
			hidden_effect = {
				remove_modifier = gpm_terraform_speed_two
			}
		}
	}
	option = {
		trigger = { root.owner = { NOT = { has_authority = auth_machine_intelligence } } }
		allow = { root.owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } }
		name =  gpm_survey.2.c
		root.owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.4.spec_project
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_3"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_two }
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_corporate } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.5_CORP
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.4.spec_project
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_3"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_two }
		}
	}
	option = {
		trigger = { root.owner = { has_authority = auth_machine_intelligence } }
		allow = { root.owner = { resource_stockpile_compare = { resource = energy value > 250 } } }
		name =  gpm_survey.INVESTIGATE.5_MACH
		root.owner = { add_resource = { energy = -250 } }
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.4.spec_project
		root.owner = { 
			add_modifier = {
				modifier = "gpm_terraform_speed_three"
				days = -1
			}
		}
		hidden_effect = {
			root.FROM = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TERRAFORM_3"
					location = event_target:hot_core_world
					owner = root
				}
			}
			root.owner = { remove_modifier = gpm_terraform_speed_two }
		}
	}
}
# give terraform discovery bonuses
ship_event = {
	id = gpm_survey.2999
	title = "gpm_survey.2.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence	} }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_hot_core
	show_sound = event_scanner
	location = THIS

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
		}
		owner = {
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_very_hot_core_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_very_hot_core_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_very_hot_core_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_very_hot_core_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = {
						NAND = {
							has_technology = "tech_terrestrial_sculpting"
							has_technology = "tech_ecological_adaptation"
						}
					}
					add_research_option = tech_terrestrial_sculpting
					hidden_effect = { add_tech_progress = { tech = tech_terrestrial_sculpting progress = 0.10 } }
				}
				if = {
					limit = {
						has_technology = "tech_terrestrial_sculpting"
						NOT = { has_technology = "tech_ecological_adaptation" }
					}
					add_research_option = tech_ecological_adaptation
					hidden_effect = { add_tech_progress = { tech = tech_ecological_adaptation progress = 0.10 } }
				}
				if = {
					limit = {
						has_technology = "tech_terrestrial_sculpting"
						has_technology = "tech_ecological_adaptation"
					}
					add_research_option = tech_climate_restoration
					hidden_effect = { add_tech_progress = { tech = tech_climate_restoration progress = 0.10 } }
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_modifier = {
					modifier = science_inspiration
					days = 720
				}
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				locked_random_list = {
					10 =  {
						locked_random_list = {
							15 = { add_resource = { minerals = 250 } }
							25 = { add_resource = { minerals = 500 } }
							50 = { add_resource = { minerals = 750 } }
						}
					}
					10 =  {
						locked_random_list = {
							15 = { add_resource = { alloys = 50 } }
							25 = { add_resource = { alloys = 75 } }
							50 = { add_resource = { alloys = 100 } }
						}
					}
					10 =  {
						locked_random_list = {
							15 = { add_resource = { exotic_gases = 25 } }
							25 = { add_resource = { exotic_gases = 50 } }
							50 = { add_resource = { exotic_gases = 75 } }
						}
					}
				}
				gpm_random_unity = yes
			}
		}
	}
}
# gaia_world
ship_event = {
	id = gpm_survey.18
	title = "gpm_survey.18.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.18.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.18.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.18.mach.desc"
	}
	picture = GFX_evt_gpm_gaia_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				is_planet_class = pc_gaia
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_gaia
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_gaia
			}
		}
	}

	option = {
		name = gpm_survey.BEAUTY
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.18.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GAIA"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.18.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GAIA"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.18.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GAIA"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# gaia_world discovery bonuses
ship_event = {
	id = gpm_survey.18999
	title = "gpm_survey.18.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_gaia_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  REMARKABLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_gaia_world_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_gaia_world_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_gaia_world_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_gaia_world_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { volatile_motes = 50 }
				add_resource = { exotic_gases = 50 }
				add_resource = { rare_crystals = 50 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 1000 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_7" }
				set_country_flag = gpm_exotic_park_rewarded
				custom_tooltip = gpm_exotic_park_rewarded_tt
				remove_country_flag = "gpm_discovery_reward_7"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# holy_planet
ship_event = {
	id = gpm_survey.19
	title = "gpm_survey.19.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.19.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.19.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.19.mach.desc"
	}
	picture = GFX_evt_gpm_holy_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "holy_planet"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_holy_world
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_holy_world
			}
		}
	}

	option = {
		name = gpm_survey.OMEN
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.19.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HOLY_PLANET"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.19.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HOLY_PLANET"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.19.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HOLY_PLANET"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# holy planet discovery bonuses
ship_event = {
	id = gpm_survey.19999
	title = "gpm_survey.19.name"
	desc = {
		trigger = {
			owner = { NAND = { has_authority = auth_machine_intelligence has_country_flag = "gpm_discovery_reward_3" } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {
			owner = { AND = { NOT ={ has_authority = auth_machine_intelligence } has_country_flag = "gpm_discovery_reward_3" } }
		}
		text = "gpm_survey.REWARDS.HOLYWORLD_TT"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_holy_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INTRIGUING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_holy_world_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_holy_world_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_holy_world_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_holy_world_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				custom_tooltip = gpm_survey.holyplanetTT
				hidden_effect = {
					FROMFROMFROM = {
						remove_modifier = "holy_planet"
						add_modifier = { modifier = "gpm_holy_planet_redeemed" }
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				PREVPREV = {
					if = {
						limit = {
							leader = { not = { has_trait = leader_trait_psionic } }
						}
						leader = { add_trait = leader_trait_psionic }
					}
					else_if = {
						limit = {
							leader = { not = { has_trait = leader_trait_carefree } }
						}
						leader = { add_trait = leader_trait_carefree }
					}
					else_if = {
						limit = {
							leader = { not = { has_trait = leader_trait_roamer } }
						}
						leader = { add_trait = leader_trait_roamer }
					}
				}
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_floating_islands
ship_event = {
	id = gpm_survey.20
	title = "gpm_survey.20.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.20.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.20.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.20.mach.desc"
	}
	picture = GFX_evt_gpm_floating_islands
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_floating_islands"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_floating_islands
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_floating_islands
			}
		}
	}

	option = {
		name = gpm_survey.UNBELIEVABLE
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.20.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_FLOATING_ISLANDS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.20.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_FLOATING_ISLANDS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.20.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_FLOATING_ISLANDS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# Floating islands discovery bonuses
ship_event = {
	id = gpm_survey.20999
	title = "gpm_survey.20.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_floating_islands
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_floating_islands_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_floating_islands_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_floating_islands_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_floating_islands_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = minerals
					value = @tier3materialreward
					min = @tier3materialmin
					max = @tier3materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 500 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_ruined_battlefield
ship_event = {
	id = gpm_survey.21
	title = "gpm_survey.21.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.21.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.21.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.21.mach.desc"
	}
	picture = GFX_evt_gpm_ruined_battlefield
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_ruined_battlefield"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ruined_battlefield
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_ruined_battlefield
			}
		}
	}

	option = {
		name = gpm_survey.HORROR
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.8
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.21.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_BATTLEFIELD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.8_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.21.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_BATTLEFIELD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.8_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.21.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_BATTLEFIELD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# ruined battlefield discovery bonuses
ship_event = {
	id = gpm_survey.21999
	title = "gpm_survey.21.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ruined_battlefield
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  ASTOUNDING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_ruined_battlefield_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_ruined_battlefield_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_ruined_battlefield_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_ruined_battlefield_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier2unityreward
					min = @tier2unitymin
					max = @tier2unitymax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 500 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_spaceship_graveyard
ship_event = {
	id = gpm_survey.22
	title = "gpm_survey.22.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.22.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.22.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.22.mach.desc"
	}
	picture = GFX_evt_gpm_spaceship_graveyard2
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_spaceship_graveyard"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_spaceship_graveyard
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_spaceship_graveyard
			}
		}
	}

	option = {
		name = gpm_survey.MASSIVE
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.1
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.22.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SHIP_GRAVEYARD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.1_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.22.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SHIP_GRAVEYARD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.1_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.22.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SHIP_GRAVEYARD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# spaceship graveyard discovery bonuses
ship_event = {
	id = gpm_survey.22999
	title = "gpm_survey.22.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_spaceship_graveyard2
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  AMAZING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_spaceship_graveyard_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_spaceship_graveyard_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_spaceship_graveyard_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_spaceship_graveyard_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = alloys
					value = @tier5materialreward
					min = @tier5materialmin
					max = @tier5materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 350 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_artificial_water
ship_event = {
	id = gpm_survey.23
	title = "gpm_survey.23.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.23.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.23.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.23.mach.desc"
	}
	picture = GFX_evt_gpm_artificial_water
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_artificial_water"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_artificial_water
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_artificial_water
			}
		}
	}

	option = {
		name = FASCINATING
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.2
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.23.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_WATER"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.2_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.23.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_WATER"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.2_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.23.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_WATER"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# artificial water discovery bonuses
ship_event = {
	id = gpm_survey.23999
	title = "gpm_survey.23.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_artificial_water
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  AMAZING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_artificial_water_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_artificial_water_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_artificial_water_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_artificial_water_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = engineering_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				add_monthly_resource_mult = {
					resource = physics_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 350 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_android_pleasure_palace
ship_event = {
	id = gpm_survey.24
	title = "gpm_survey.24.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.24.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.24.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.24.mach.desc"
	}
	picture = GFX_evt_gpm_pleasure_palace
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_android_pleasure_palace"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_pleasure_palace
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_pleasure_palace
			}
		}
	}

	option = {
		name = gpm_survey.NEAT
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.3
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.24.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLEASURE_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.3_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.24.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLEASURE_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.3_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.24.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLEASURE_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
	# Spiritualist option
	option = {
		trigger = {
			root = {
				owner = {
					OR = {
						has_ethic = "ethic_fanatic_spiritualist"
						has_ethic = "ethic_spiritualist"
					}
				}
			}
		}
		name = gpm_survey.24.spiritualist
		# purge modifier and give alloys
		FROM = {
			remove_modifier = gpm_android_pleasure_palace
			add_deposit = d_bomb_crater
			add_deposit = d_bomb_crater
			add_deposit = d_bomb_crater
		}
		owner = { add_resource = { alloys = 362 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# Xenophile option
	option = {
		trigger = {
			root = {
				owner = {
					OR = {
						has_ethic = "ethic_fanatic_xenophile"
						has_ethic = "ethic_xenophile"
					}
				}
			}
		}
		name = gpm_survey.24.xenophile
		# give pops
		owner = {
			random_owned_planet ={
				limit = { is_capital = yes }
				create_pop = {
					species = owner_main_species
					ethos = { ethic = ethic_fanatic_xenophile }
				}
				create_pop = {
					species = owner_main_species
					ethos = { ethic = ethic_fanatic_xenophile }
				}
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# Determined Exterminator option
	option = {
		trigger = { root = { owner = { has_authority = auth_machine_intelligence has_civic = civic_machine_terminator } } }
		name = gpm_survey.24.DE
		# purge modifier and give alloys
		FROM = {
			remove_modifier = gpm_android_pleasure_palace
		}
		owner = { add_resource = { alloys = 1000 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# Hivemind option
	option = {
		trigger = { root = { owner = { has_authority = auth_hive_mind } } }
		name = gpm_survey.24.hive
		# purge modifier and give alloys
		FROM = {
			remove_modifier = gpm_android_pleasure_palace
			add_deposit = d_crater
		}
		owner = { add_resource = { alloys = 650 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# machine assimilator option
	option = {
		trigger = { root = { owner = { has_authority = auth_machine_intelligence has_civic = civic_machine_assimilator } } }
		name = gpm_survey.24.assimilator
		# purge modifier and give machine pops
		FROM = {
			remove_modifier = gpm_android_pleasure_palace
		}
		owner = {
			random_owned_planet ={
				limit = { is_capital = yes }
				create_pop = {
					species = owner_main_species
				}
				create_pop = {
					species = owner_main_species
				}
				create_pop = {
					species = owner_main_species
				}
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# machine servitor option
	option = {
		trigger = { root = { owner = { has_authority = auth_machine_intelligence has_civic = civic_machine_servitor } } }
		name = gpm_survey.24.servitor
		# duplicate modifier on capital
		owner = {
			random_owned_planet ={
				limit = { is_capital = yes }
				add_modifier = { modifier = gpm_android_pleasure_palace multiplier = 1 } }
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
	# pleasure seekers
	option = {
		trigger = { root = { owner = { has_civic = civic_pleasure_seekers } } }
		name = gpm_survey.24.pleasureseekers
		# thematic rewards
		# add_modifier = { modifier = "gpm_android_pleasure_palace_discovery" days = -1 }
		owner = {
			give_technology = { tech = tech_gpm_android_pleasure_palace_discovery }
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
}
# android pleasure palace discovery bonuses
ship_event = {
	id = gpm_survey.24999
	title = "gpm_survey.24.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_pleasure_palace
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  ASTOUNDING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_android_pleasure_palace_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_android_pleasure_palace_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_android_pleasure_palace_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_android_pleasure_palace_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				PREVPREV = {
					leader = {
						if = {
							limit = { NOT = { has_trait = leader_trait_custom_AI_assistant } }
							add_trait = leader_trait_custom_AI_assistant
						}
						else_if = {
							limit = { NOT = { has_trait = leader_trait_sapient_AI_assistant } }
							add_trait = leader_trait_sapient_AI_assistant
						}
						else = { add_trait = leader_trait_towel }
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 400 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_ancient_temple
ship_event = {
	id = gpm_survey.25
	title = "gpm_survey.25.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.25.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.25.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.25.mach.desc"
	}
	picture = GFX_evt_gpm_ancient_temple
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_ancient_temple"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ancient_temple
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_ancient_temple
			}
		}
	}

	option = {
		name = gpm_survey.INSPIRING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# ExploratiOn Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.4
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# ExploratiOn Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.25.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ANCIENT_TEMPLE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.4_CORP
		owner = { add_resource = { energy = -250 } }
		# ExploratiOn Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.25.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ANCIENT_TEMPLE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.4_MACH
		owner = { add_resource = { energy = -250 } }
		# ExploratiOn Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.25.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ANCIENT_TEMPLE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# ancient temple discovery bonuses
ship_event = {
	id = gpm_survey.25999
	title = "gpm_survey.25.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ancient_temple
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_ancient_temple_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_ancient_temple_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_ancient_temple_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_ancient_temple_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { rare_crystals = 300 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 150 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_crystal_moon_palace
ship_event = {
	id = gpm_survey.26
	title = "gpm_survey.26.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.26.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.26.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.26.mach.desc"
	}
	picture = GFX_evt_gpm_moon_palace
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_crystal_moon_palace"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_moon_palace
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_moon_palace
			}
		}
	}

	option = {
		name = AMAZING
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.5
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.26.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_CRYSTAL_MOON_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.5_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.26.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_CRYSTAL_MOON_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.5_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.26.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_CRYSTAL_MOON_PALACE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# crystal moon palace discovery bonuses
ship_event = {
	id = gpm_survey.26999
	title = "gpm_survey.26.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_moon_palace
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INCREDIBLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_crystal_moon_palace_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_crystal_moon_palace_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_crystal_moon_palace_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_crystal_moon_palace_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_resource = { rare_crystals = 150 }
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 400 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_plasmoid_life
ship_event = {
	id = gpm_survey.27
	title = "gpm_survey.27.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.27.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.27.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.27.mach.desc"
	}
	picture = GFX_evt_gpm_plasmoid_life
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_plasmoid_life"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_plasmoid_life
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_plasmoid_life
			}
		}
	}

	option = {
		name = gpm_survey.UNBELIEVABLE
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.27.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLASMOID_LIFE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.27.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLASMOID_LIFE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.27.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PLASMOID_LIFE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# plasmoid discovery bonuses
ship_event = {
	id = gpm_survey.27999
	title = "gpm_survey.27.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence	} }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_plasmoid_life
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INTERESTING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_plasmoid_life_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_plasmoid_life_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_plasmoid_life_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_plasmoid_life_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = {
						has_technology = "tech_plasma_3"
					}
					add_research_option = tech_repeatable_weapon_type_energy_damage
				}
				if = {
					limit = {
						has_technology = "tech_plasma_2"
						NOT = { has_technology = "tech_plasma_3" }
					}
					add_research_option = tech_plasma_3
				}
				if = {
					limit = {
						has_technology = "tech_plasma_1"
						NOT = { has_technology = "tech_plasma_2" }
					}
					add_research_option = tech_plasma_2
				}
				if = {
					limit = {
						NOT = { has_technology = "tech_plasma_1" }
					}
					add_research_option = tech_plasma_1
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 250 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_temple_of_the_ancient_one
ship_event = {
	id = gpm_survey.28
	title = "gpm_survey.28.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.28.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.28.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.28.mach.desc"
	}
	picture = GFX_evt_gpm_ancient_one
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_temple_of_the_ancient_one"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_ancient_one
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_ancient_one
			}
		}
	}

	option = {
		name = gpm_survey.LEAVE
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner ={
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner ={
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.28.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TEMPLE_ANCIENT_ONE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner ={
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.28.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TEMPLE_ANCIENT_ONE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner ={
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = physics_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.28.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_TEMPLE_ANCIENT_ONE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# temple of the ancient one discovery bonuses
ship_event = {
	id = gpm_survey.28999
	title = "gpm_survey.28.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_ancient_one
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  REMARKABLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_temple_of_the_ancient_one_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_temple_of_the_ancient_one_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_temple_of_the_ancient_one_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_temple_of_the_ancient_one_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				medium_artifact_reward = yes
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 350 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_proto_forests
ship_event = {
	id = gpm_survey.29
	title = "gpm_survey.29.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.29.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.29.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.29.mach.desc"
	}
	picture = GFX_evt_gpm_proto_forest
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_proto_forests"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_proto_forest
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_proto_forest
			}
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.8
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			leader = { add_experience = 200 }
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		else_if = {
			limit = { owner = { NOT = { has_policy_flag = gpm_more_discovery_rewards } } }
			leader = { add_experience = 100 }
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.29.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PROTO_FOREST"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.8_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.29.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PROTO_FOREST"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.8_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.29.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_PROTO_FOREST"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# proto forest discovery bonuses
ship_event = {
	id = gpm_survey.29999
	title = "gpm_survey.29.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_proto_forest
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_proto_forests_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_proto_forests_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_proto_forests_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_proto_forests_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = society_research
					value = @tier3researchreward
					min = @tier3researchmin
					max = @tier3researchmax
				}
				add_monthly_resource_mult = {
					resource = energy
					value = @tier2materialreward
					min = @tier2materialmin
					max = @tier2materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 250 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_hiveworld
ship_event = {
	id = gpm_survey.30
	title = "gpm_survey.30.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.30.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.30.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.30.mach.desc"
	}
	picture = GFX_evt_gpm_hive_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_hiveworld"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_hive_world
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_hive_world
			}
		}
	}

	option = {
		name = gpm_survey.HORRIFYING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.1
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.30.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HIVE_WORLD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.1_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.30.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HIVE_WORLD"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.1_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.30.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_HIVE_WORLD"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# hiveworld discovery bonuses
ship_event = {
	id = gpm_survey.30999
	title = "gpm_survey.30.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}

	picture = GFX_evt_gpm_hive_world
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  ASTOUNDING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_hiveworld_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_hiveworld_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_hiveworld_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_hiveworld_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				custom_tooltip = gpm_hive_ship_survey_reward
				create_fleet = {
					name = "NAME_daughter_of_the_stars"
					effect = {
						set_owner = root.owner
						while = {
							count = 1
							create_ship = {
								name = "NAME_daughter_of_the_stars"
								design = "NAME_Swarm_Carrier"
								graphical_culture = "swarm_01"
								upgradable = no
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 700 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_arachnophobia
ship_event = {
	id = gpm_survey.31
	title = "gpm_survey.31.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.31.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.31.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.31.mach.desc"
	}
	picture = GFX_evt_gpm_spiders
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_arachnophobia"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_spiders
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_spiders
			}
		}
	}

	option = {
		name = gpm_survey.HELL
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.2
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.31.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARACHNAPHOBIA"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.2_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.31.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARACHNAPHOBIA"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.2_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.31.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARACHNAPHOBIA"
					location = FROM
					owner = root
				}
			}
		}
	}
	# purge with fire option
	option = {
		trigger = {
			root = {
				owner = {
					NOR = {
						has_ethic = "ethic_fanatic_xenophile"
						has_ethic = "ethic_xenophile"
					}
				}
			}
			FROM = { NOT = { space_owner = exists } }
		}
		name = gpm_survey.31.fire
		# fire fire fire
		FROM = {
			remove_modifier = gpm_arachnophobia
			change_pc = pc_nuked
			hidden_effect = {
				set_planet_flag = nuked_planet_anomalies_disabled
				gpm_purge_all_planetary_modifiers = yes
				reroll_planet = yes
				every_deposit = {
					limit = { is_deposit_type = gpm_d_arachnophobia	}
					remove_deposit = yes
				}
			}
			add_deposit = d_bomb_crater
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
	}
}
# arachnids discovery bonuses
ship_event = {
	id = gpm_survey.31999
	title = "gpm_survey.31.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_spiders
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INTERESTING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_arachnophobia_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_arachnophobia_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_arachnophobia_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_arachnophobia_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				create_fleet = {
					name = "NAME_docile_arachnid_fleet"
					effect = {
						set_owner = root.owner
						while = {
							count = 3
							if = {
								limit = {
									root.owner = { has_authority = auth_machine_intelligence }
								}
								create_army_transport = {
									ship_name = "NAME_docile_arachnid_ship"
									army_name = "NAME_docile_arachnid"
									army_type = gpm_giant_arachnid_army_machine
								}
							}
							else_if = {
								limit = {
									root.owner = { NOT = { has_authority = auth_machine_intelligence } }
								}
								create_army_transport = {
									ship_name = "NAME_docile_arachnid_ship"
									army_name = "NAME_docile_arachnid"
									army_type = gpm_giant_arachnid_army
								}
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 500 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_giant_worm
ship_event = {
	id = gpm_survey.32
	title = "gpm_survey.32.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.32.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.32.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.32.mach.desc"
	}
	picture = GFX_evt_gpm_giant_worm
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_giant_worm"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_giant_worm
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_giant_worm
			}
		}
	}

	option = {
		name = gpm_survey.MASSIVE
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.3
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.32.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GIANT_WORM"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.3_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.32.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GIANT_WORM"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.3_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.32.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_GIANT_WORM"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# giant worm discovery bonuses
ship_event = {
	id = gpm_survey.32999
	title = "gpm_survey.32.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_giant_worm
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INCREDIBLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_giant_worm_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_giant_worm_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_giant_worm_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_giant_worm_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = minerals
					value = @tier3materialreward
					min = @tier3materialmin
					max = @tier3materialmax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 450 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_artificial_core
ship_event = {
	id = gpm_survey.33
	title = "gpm_survey.33.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.33.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.33.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.33.mach.desc"
	}
	picture = GFX_evt_gpm_artificial_core
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_artificial_core"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_artificial_core
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_artificial_core
			}
		}
	}

	option = {
		name = gpm_survey.UNBELIEVABLE
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.4
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.33.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_CORE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.4_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.33.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_CORE"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.4_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = engineering_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.33.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ARTIFICIAL_CORE"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# artificial core discovery bonuses
ship_event = {
	id = gpm_survey.33999
	title = "gpm_survey.33.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_artificial_core
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_artificial_core_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_artificial_core_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			# if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
			# 	add_research_option = tech_gpm_artificial_core_discovery
			# 	remove_country_flag = "gpm_discovery_reward_3"
			# }
			# if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
			# 	add_research_option = tech_gpm_artificial_core_discovery_2
			# 	remove_country_flag = "gpm_discovery_reward_4"
			# }
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				small_artifact_reward = yes
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier3unityreward
					min = @tier3unitymin
					max = @tier3unitymax
				}
				root.leader = { add_experience = 950 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_surface_of_bones
ship_event = {
	id = gpm_survey.34
	title = "gpm_survey.34.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.34.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.34.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.34.mach.desc"
	}
	picture = GFX_evt_gpm_surface_of_bones
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_surface_of_bones"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_surface_of_bones
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_surface_of_bones
			}
		}
	}

	option = {
		name = gpm_survey.HORRIFYING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.5
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.34.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SURFACE_OF_BONES"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.5_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.34.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SURFACE_OF_BONES"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.5_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.34.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_SURFACE_OF_BONES"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# surface of bones discovery bonuses
ship_event = {
	id = gpm_survey.34999
	title = "gpm_survey.34.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_surface_of_bones
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  FASCINATING
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_surface_of_bones_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_surface_of_bones_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_surface_of_bones_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_surface_of_bones_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier2unityreward
					min = @tier2unitymin
					max = @tier2unitymax
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 575 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_strange_alien_eggs
ship_event = {
	id = gpm_survey.35
	title = "gpm_survey.35.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.35.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.35.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.35.mach.desc"
	}
	picture = GFX_evt_gpm_alien_eggs
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_strange_alien_eggs"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_alien_eggs
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_alien_eggs
			}
		}
	}

	option = {
		name = gpm_survey.SEEN
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.6
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.35.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ALIEN_EGGS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.35.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ALIEN_EGGS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.6_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				if = {
					limit = { has_ancrel = yes }
					gpm_random_minor_artifacts_5 = yes
				}
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.35.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_ALIEN_EGGS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# strange eggs discovery bonuses
ship_event = {
	id = gpm_survey.35999
	title = "gpm_survey.35.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_alien_eggs
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  INCREDIBLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_strange_alien_eggs_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_strange_alien_eggs_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_strange_alien_eggs_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_strange_alien_eggs_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				custom_tooltip = gpm_r_alien_eggs_fleetTT
				create_fleet = {
					name = "NAME_wild_xenomorph_fleet"
					effect = {
						set_owner = root.owner
						while = {
							count = 3
							create_army_transport = {
								ship_name = "NAME_wild_xenomorph_ship"
								army_name = "NAME_wild_xenomorph"
								army_type = "xenomorph_army"
							}
						}
						set_location = {
							target = FROMFROMFROM
							distance = 5
							angle = random
						}
					}
					settings = {
						can_upgrade = no
						can_change_composition = no
						can_change_leader = no
						uses_naval_capacity = no
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
				hidden_effect = {
					country_event = { id = gpm_colony.9000 }
				}
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 750 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_7" }
				custom_tooltip = gpm_r_alien_eggs_recoveryTT
				add_relic = gpm_r_alien_eggs
				log = "<< RELICS >> | ADD_RELIC <<< gpm_r_alien_eggs >>> to ROOT.OWNER = [root.owner.GetName] ; survey event reward"
				every_relation = {
					limit = {
						gpm_is_country_type_default = yes
						has_communications = root.owner
					}
					log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
					create_message = {
						type = GPM_MESSAGE_RELIC_POSSESSION
						localization = GPM_MESSAGE_RELIC_POSSESSION_DESC
						days = 30
						target = root.owner.capital_scope
						variable = {
							type = name
							localization = COUNTRY
							scope = root.owner
						}
					}
				}
				remove_country_flag = "gpm_discovery_reward_7"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}
# gpm_mushroom_forest
ship_event = {
	id = gpm_survey.36
	title = "gpm_survey.36.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.36.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.36.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.36.mach.desc"
	}
	picture = GFX_evt_gpm_mushroom_forest
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_modifier = "gpm_mushroom_forest"
				root = {
					owner = {
						NOT = {
							has_country_flag = gpm_discover_mushroom_forest
						}
					}
				}
			}
		}
	}

	immediate = {
		root = {
			owner = {
				set_country_flag = gpm_discover_mushroom_forest
			}
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
		}
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } NOT = { has_authority = auth_machine_intelligence } } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = influence value > @lootboxInfluenceCost } } } }
		name = gpm_survey.INVESTIGATE.7
		owner = { add_resource = { influence = @lootboxInfluenceCost_Add } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.36.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_MUSHROOM_FORESTS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_corporate } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_CORP
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.36.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_MUSHROOM_FORESTS"
					location = FROM
					owner = root
				}
			}
		}
	}
	option = {
		trigger = { root = { owner = { NOT = { has_policy_flag = gpm_no_discovery_rewards } has_authority = auth_machine_intelligence } } }
		allow = { root = { owner = { resource_stockpile_compare = { resource = energy value > 250 } } } }
		name = gpm_survey.INVESTIGATE.7_MACH
		owner = { add_resource = { energy = -250 } }
		# Exploration Policy Reward integration
		root.leader = { gpm_random_experience = yes }
		if = {
			limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
			custom_tooltip = gpm_survey_reward_bonus
			## Additional Reward ##
			owner = {
				locked_random_list = {
					30 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier1researchreward
							min = @tier1researchmin
							max = @tier1researchmax
						}
					}
					20 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier2researchreward
							min = @tier2researchmin
							max = @tier2researchmax
						}
					}
					10 = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier3researchreward
							min = @tier3researchmin
							max = @tier3researchmax
						}
					}
				}
			}
		}
		custom_tooltip = gpm_survey.EXPEDITION
		custom_tooltip = gpm_survey.36.spec_project
		owner = {
			hidden_effect = {
				enable_special_project = {
					name = "GPM_DISCOVERY_MUSHROOM_FORESTS"
					location = FROM
					owner = root
				}
			}
		}
	}
}
# mushroom forests discovery bonuses
ship_event = {
	id = gpm_survey.36999
	title = "gpm_survey.36.name"
	desc = {
		trigger = {
			owner = { NOT = { has_authority = auth_machine_intelligence } }
		}
		text = "gpm_survey.REWARD"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.REWARD.mach"
	}
	picture = GFX_evt_gpm_mushroom_forest
	show_sound = event_scanner
	location = ROOT

	is_triggered_only = yes

	option = {
		name =  REMARKABLE
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience = yes }
		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier2researchreward
				min = @tier2researchmin
				max = @tier2researchmax
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_1" }
				add_modifier = { modifier = "gpm_mushroom_forest_discovery" days = -1 }
				remove_country_flag = "gpm_discovery_reward_1"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_2" }
				add_modifier = { modifier = "gpm_mushroom_forest_discovery_2" days = -1 }
				remove_country_flag = "gpm_discovery_reward_2"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_3" }
				add_research_option = tech_gpm_mushroom_forest_discovery
				remove_country_flag = "gpm_discovery_reward_3"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_4" }
				add_research_option = tech_gpm_mushroom_forest_discovery_2
				remove_country_flag = "gpm_discovery_reward_4"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_5" }
				if = {
					limit = { has_authority = auth_machine_intelligence }
					add_monthly_resource_mult = {
						resource = minerals
						value = @tier2materialreward
						min = @tier2materialmin
						max = @tier2materialmax
					}
				}
				else_if = {
					limit = { NOT = { has_authority = auth_machine_intelligence } }
					add_monthly_resource_mult = {
						resource = food
						value = @tier2materialreward
						min = @tier2materialmin
						max = @tier2materialmax
					}
				}
				remove_country_flag = "gpm_discovery_reward_5"
			}
			if = { limit = { has_country_flag = "gpm_discovery_reward_6" }
				add_monthly_resource_mult = {
					resource = unity
					value = @tier4unityreward
					min = @tier4unitymin
					max = @tier4unitymax
				}
				root.leader = { add_experience = 450 }
				remove_country_flag = "gpm_discovery_reward_6"
			}
		}
		# aditional reward from exploration policy
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				custom_tooltip = gpm_survey_reward_bonus
				gpm_random_unity = yes
			}
		}
	}
}


# Ring Site Discovery
ship_event = {
	id = gpm_survey.37
	hide_window = yes
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = {
			AND = {
				has_planet_flag = gpm_is_RES
				NOT = { has_planet_flag = gpm_is_RES_renamed }
			}
		}
	}

	immediate = {
		FROM = {
			if = {
				limit = {
					NOT = { has_planet_flag = gpm_tiyanki_grounds }
				}
				set_planet_flag = gpm_is_RES_renamed
				set_name = pc_gpm_res_resource_name
			}
			else = {
				set_planet_flag = gpm_is_RES_renamed
				set_name = pc_gpm_res_tiyanki_name
			}
		}
	}
}
# Planet Wonder First Discovery
ship_event = {
	id = gpm_survey.700
	title = "gpm_survey.700.name"
	desc = {
		trigger = {
			owner = {
				NOR = {
					has_authority = auth_hive_mind
					has_authority = auth_machine_intelligence
				}
			}
		}
		text = "gpm_survey.700.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_hive_mind } }
		text = "gpm_survey.700.hive.desc"
	}
	desc = {
		trigger = {	owner = { has_authority = auth_machine_intelligence } }
		text = "gpm_survey.700.mach.desc"
	}
	picture = GFX_evt_gpm_wondrous_world
	show_sound = event_scanner
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = { has_modifier = "gpm_planet_wonder_discovered" }
		NOT = { owner = { has_country_flag = gpm_discover_planet_wonder } }
	}

	immediate = {
		FROM = {
			if = {
				limit = {
					NOT = { has_planet_flag = "gpm_is_surveyed" }
				}
				set_planet_flag = "gpm_is_surveyed"
				set_planet_flag = "gpm_is_wondrous_planet"
				gpm_colour_planet_name = yes
			}
		}
		owner = {
			log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
			create_message = {
				type = GPM_MESSAGE_WONDROUS_WORLD
				localization = GPM_MESSAGE_WONDROUS_WORLD_DESC
				days = 60
				target = FROM
				variable = {
					type = name
					localization = PLANET
					scope = FROM
				}
			}
		}
	}

	option = {
		name = gpm_survey.UNBELIEVABLE
		hidden_effect = { owner = { set_country_flag = gpm_discover_planet_wonder } }
		custom_tooltip = gpm_survey_reward_new_line
		root.leader = { gpm_random_experience_big = yes }
		root.owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward_half
				min = @tier1researchmin_half
				max = @tier1researchmax_half
			}
		}
		root.owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward_half
				min = @tier1researchmin_half
				max = @tier1researchmax_half
			}
		}
		root.owner = {
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward_half
				min = @tier1researchmin_half
				max = @tier1researchmax_half
			}
		}
		# Exploratipn Policy Reward integration
		root.owner = {
			if = {
				limit = { owner = { has_policy_flag = gpm_more_discovery_rewards } }
				gpm_random_unity = yes
				## Additional Reward ##
				custom_tooltip = gpm_survey_reward_bonus
				add_random_research_option = {
					add_progress = 0.25
					area = society
					ignore_prereqs = no
					fail_effects = {
						add_monthly_resource_mult = {
							resource = society_research
							value = @tier5researchreward
							min = @tier5researchmin
							max = @tier5researchmax
						}
					}
				}
			}
		}
		# aditional reward from exploration policy
	}
}
# Planet Wonder Subsequent Discoveries
ship_event = {
	id = gpm_survey.701
	hide_window = yes
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = { has_modifier = "gpm_planet_wonder_discovered" }
		owner = { has_country_flag = gpm_discover_planet_wonder }
		owner = { is_ai = no }
	}

	immediate = {
		FROM = {
			if = {
				limit = {
					NOT = { has_planet_flag = "gpm_is_surveyed" }
				}
				set_planet_flag = "gpm_is_surveyed"
				set_planet_flag = "gpm_is_wondrous_planet"
				gpm_colour_planet_name = yes
			}
		}
		owner = {
			log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
			create_message = {
				type = GPM_MESSAGE_WONDROUS_WORLD
				localization = GPM_MESSAGE_WONDROUS_WORLD_DESC
				days = 60
				target = FROM
				variable = {
					type = name
					localization = PLANET
					scope = FROM
				}
			}
		}
	}
}

# Survey Message Event Valuable World
ship_event = {
	id = gpm_survey.702
	hide_window = yes
	location = FROM

	is_triggered_only = yes

	trigger = {
		FROM = { has_modifier = "terraforming_candidate" }
		owner = { is_ai = no }
	}

	immediate = {
		owner = {
			log = "<< RELICS >> | RELIC LOOTED <<< create message on THIS = [THIS.GetName]; every relation notifcation"
			create_message = {
				type = GPM_MESSAGE_VALUABLE_WORLD
				localization = GPM_MESSAGE_VALUABLE_WORLD_DESC
				days = 30
				target = FROM
				variable = {
					type = name
					localization = PLANET
					scope = FROM
				}
			}
		}
	}
}

# Precursor artifact event uppon discovery of precursor world.
# New Precursor Anomaly Found
country_event = {
	id = gpm_survey.9000
	title = "precursor.301.name"
	desc = "gpm_precursor.9000.desc"
	picture = GFX_evt_gpm_precursor_artifact_discovery

	is_triggered_only = yes

	trigger = {
		# event_target:precursor_planet = {
			# NOT = { has_planet_flag = "gpm_artifact_discovered" }
		# }
		# is_ai = no
		OR = {
			AND = {
				has_event_chain = "vultaum_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = vultaum_chain
						counter = vultaum_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "yuht_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = yuht_chain
						counter = yuht_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "first_league_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = first_league_chain
						counter = first_league_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "irassian_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = irassian_chain
						counter = irassian_artifacts
					}
				}
			}
			AND = {
				has_event_chain = "cybrex_chain"
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = cybrex_chain
						counter = cybrex_artifacts
					}
				}
			}
		}
	}

	immediate = {
		if = {
			limit = {
				has_event_chain = "vultaum_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "VULTAUM_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "yuht_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "YUHT_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "first_league_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "LEAGUE_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "irassian_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "IRASSIAN_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
		if = {
			limit = {
				has_event_chain = "cybrex_chain"
			}
			event_target:precursor_planet = {
				set_planet_flag = "gpm_artifact_discovered"
				enable_special_project = {
					name = "CYBREX_ARTIFACT_FOUND"
					location = event_target:precursor_planet
					owner = root
				}
			}
			break = yes
		}
	}

	option = {
		name = precursor.301.a
		custom_tooltip = new_precursor_project
		# custom_tooltip = gpm_precursor.9000.a
	}
}
